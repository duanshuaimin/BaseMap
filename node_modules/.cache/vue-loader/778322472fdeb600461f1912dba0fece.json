{"remainingRequest":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/liangma/Desktop/workspace/BaseMap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangma/Desktop/workspace/BaseMap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangma/Desktop/workspace/BaseMap/src/components/editor-canvas.vue?vue&type=template&id=3459e1d8&scoped=true&","dependencies":[{"path":"/Users/liangma/Desktop/workspace/BaseMap/src/components/editor-canvas.vue","mtime":1591367189475},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkgewogIHZhciBfdm0gPSB0aGlzCiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50CiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oCiAgcmV0dXJuIF9jKAogICAgImRpdiIsCiAgICB7CiAgICAgIGNsYXNzOiB7IGNvbnRlbnQ6IF92bS5jb25maWdzLmJnQWxsQm9vbCB9LAogICAgICBzdHlsZTogewogICAgICAgIHdpZHRoOiBfdm0uY29uZmlncy5iZ0FsbEJvb2wgPyBfdm0uY29uZmlncy53aW5kb3dfdyArICJweCIgOiAiYXV0byIsCiAgICAgICAgaGVpZ2h0OiBfdm0uY29uZmlncy5iZ0FsbEJvb2wgPyBfdm0uY29uZmlncy53aW5kb3dfaCArICJweCIgOiAiYXV0byIsCiAgICAgICAgbGVmdDogX3ZtLmNvbmZpZ3MuYmdBbGxCb29sICYmIDAKICAgICAgfSwKICAgICAgYXR0cnM6IHsgaWQ6ICJjb250ZW50IiB9CiAgICB9LAogICAgWwogICAgICBfYygKICAgICAgICAiZGl2IiwKICAgICAgICB7CiAgICAgICAgICByZWY6ICJjYW52YXMiLAogICAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICAgb3RoZXI6IF92bS5jb25maWdzLmJnID09PSAiZ3JleSIsCiAgICAgICAgICAgIGdyaWQ6IF92bS5jb25maWdzLmJnID09PSAiZ3JpZCIsCiAgICAgICAgICAgIGZsb29yOiBfdm0uY29uZmlncy5iZyA9PT0gImZsb29yIgogICAgICAgICAgfSwKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgIHRyYW5zZm9ybTogIV92bS5jb25maWdzLmJnQWxsQm9vbAogICAgICAgICAgICAgID8gInNjYWxlKCIgKyBfdm0uY29uZmlncy5zY2FsZSArICIpIgogICAgICAgICAgICAgIDogInNjYWxlKDAuNjQpICIsCiAgICAgICAgICAgIGJhY2tncm91bmQ6CiAgICAgICAgICAgICAgX3ZtLmNvbmZpZ3MuYmFja2dyb3VuZFVybCAmJgogICAgICAgICAgICAgICJ1cmwoIiArIF92bS5jb25maWdzLmJhY2tncm91bmRVcmwgKyAiKSIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXJlcGVhdCI6CiAgICAgICAgICAgICAgX3ZtLmNvbmZpZ3MuYmFja2dyb3VuZFVybCAmJiAiIG5vLXJlcGVhdCAhaW1wb3J0YW50IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6CiAgICAgICAgICAgICAgX3ZtLmNvbmZpZ3MuYmFja2dyb3VuZFVybCAmJiAiIGNvbnRhaW4gIWltcG9ydGFudCIKICAgICAgICAgIH0sCiAgICAgICAgICBhdHRyczogeyBpZDogImNhbnZhcyIgfQogICAgICAgIH0sCiAgICAgICAgX3ZtLl9sKF92bS5lZHJhd0NvbXBzLCBmdW5jdGlvbihpdGVtLCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIF9jKAogICAgICAgICAgICAiZGl2IiwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGtleTogaW5kZXgsCiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6ICJjb21wLWl0ZW0iLAogICAgICAgICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAgICAgICBhY3RpdmU6IGl0ZW0uaXNBY3RpdmUsCiAgICAgICAgICAgICAgICByb29tQWN0aXZlOiBpdGVtLnR5cGUgPT09ICJyb29tIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgIHdpZHRoOiBpdGVtLnN0eWxlLndpZHRoICsgInB4IiwKICAgICAgICAgICAgICAgIGhlaWdodDogaXRlbS5zdHlsZS5oZWlnaHQgKyAicHgiLAogICAgICAgICAgICAgICAgdG9wOiBpdGVtLnN0eWxlLnRvcCAtIF92bS5yZWN0LnkgKyAicHgiLAogICAgICAgICAgICAgICAgbGVmdDogaXRlbS5zdHlsZS5sZWZ0IC0gX3ZtLnJlY3QueCArICJweCIsCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogaXRlbS5zdHlsZS5wb3NpdGlvbiwKICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiBpdGVtLnN0eWxlLmJvcmRlcldpZHRoICsgInB4IiwKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogInJvdGF0ZSgiICsgaXRlbS5zdHlsZS5yb3RhdGUgKyAiZGVnKSIsCiAgICAgICAgICAgICAgICAiei1pbmRleCI6IGl0ZW0udHlwZSA9PT0gInJvb20iICYmICItMSIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGF0dHJzOiB7IGRyYWdnYWJsZTogaXRlbS5pc0FjdGl2ZSB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uc2VsZWN0SXRlbSgkZXZlbnQsIGluZGV4KQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGRyYWdzdGFydDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUuaXNGaXhlZCA9PT0gImZhbHNlIiAmJgogICAgICAgICAgICAgICAgICAgIF92bS5kcmFnQ29tcCgkZXZlbnQsIGl0ZW0sICJzdGFydCIsIGluZGV4KQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGRyYWc6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmlzRml4ZWQgPT09ICJmYWxzZSIgJiYKICAgICAgICAgICAgICAgICAgICBfdm0uZHJhZ0NvbXAoJGV2ZW50LCBpdGVtLCAiZHJhZyIsIGluZGV4KQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGRyYWdlbmQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmlzRml4ZWQgPT09ICJmYWxzZSIgJiYKICAgICAgICAgICAgICAgICAgICBfdm0uZHJhZ0NvbXAoJGV2ZW50LCBpdGVtLCAiZW5kIiwgaW5kZXgpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBbCiAgICAgICAgICAgICAgaXRlbS50eXBlID09PSAiaW1nIgogICAgICAgICAgICAgICAgPyBfYygiaW1nIiwgewogICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAiY29tcC1lbGVtZW50IGNvbXAtaW1nIGljb24iLAogICAgICAgICAgICAgICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IGl0ZW0uaXNBY3RpdmUsCiAgICAgICAgICAgICAgICAgICAgICBpc1NoYWRvdzogaXRlbS5zdHlsZS5pc0FwcGx5U2hhZG93ID09PSAidHJ1ZSIsCiAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZUFjdGl2ZTogaXRlbS5tdWx0aXBsZUFjdGl2ZUJvb2wKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogaXRlbS5zdHlsZS53aWR0aCArICJweCIsCiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGl0ZW0uc3R5bGUuaGVpZ2h0ICsgInB4IiwKICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogaXRlbS5zdHlsZS5ib3JkZXJSYWRpdXMgKyAiJSIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNyYzogaXRlbS5pY29uLCB0aXRsZTogaXRlbS5uYW1lLCBhbHQ6IGl0ZW0ubmFtZSB9CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICA6IF92bS5fZSgpLAogICAgICAgICAgICAgIGl0ZW0udHlwZSA9PT0gImxpbmVfY29sdSIKICAgICAgICAgICAgICAgID8gX2MoImRpdiIsIHsKICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogImNvbXAtZWxlbWVudCBsaW5lIGNvbXAtbGluZV9jb2x1IiwKICAgICAgICAgICAgICAgICAgICBjbGFzczogewogICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiBpdGVtLmlzQWN0aXZlLAogICAgICAgICAgICAgICAgICAgICAgaXNTaGFkb3c6IGl0ZW0uc3R5bGUuaXNBcHBseVNoYWRvdyA9PT0gInRydWUiLAogICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVBY3RpdmU6IGl0ZW0ubXVsdGlwbGVBY3RpdmVCb29sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBpdGVtLnN0eWxlLmhlaWdodCArICJweCIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICA6IF92bS5fZSgpLAogICAgICAgICAgICAgIGl0ZW0udHlwZSA9PT0gImxpbmVfcm93IgogICAgICAgICAgICAgICAgPyBfYygiZGl2IiwgewogICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAiY29tcC1lbGVtZW50IGxpbmUgY29tcC1saW5lX3JvdyIsCiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogaXRlbS5pc0FjdGl2ZSwKICAgICAgICAgICAgICAgICAgICAgIGlzU2hhZG93OiBpdGVtLnN0eWxlLmlzQXBwbHlTaGFkb3cgPT09ICJ0cnVlIiwKICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlQWN0aXZlOiBpdGVtLm11bHRpcGxlQWN0aXZlQm9vbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgIHdpdGg6IGl0ZW0uc3R5bGUud2lkdGggKyAicHgiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgOiBfdm0uX2UoKSwKICAgICAgICAgICAgICBpdGVtLnR5cGUgPT09ICJwaWxsYXIiCiAgICAgICAgICAgICAgICA/IF9jKCJkaXYiLCB7CiAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6CiAgICAgICAgICAgICAgICAgICAgICAiY29tcC1lbGVtZW50IGxpbmUgY29tcC1waWxsYXIgY29tcC1waWxsYXItc2hhZG93ICIsCiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogaXRlbS5pc0FjdGl2ZSwKICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaXRlbS5zdHlsZS5oZWlnaHQgKyAicHgiLAogICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGl0ZW0uc3R5bGUud2lkdGggKyAicHgiLAogICAgICAgICAgICAgICAgICAgICAgaXNTaGFkb3c6IGl0ZW0uc3R5bGUuaXNBcHBseVNoYWRvdyA9PT0gInRydWUiLAogICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVBY3RpdmU6IGl0ZW0ubXVsdGlwbGVBY3RpdmVCb29sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBpdGVtLnN0eWxlLmhlaWdodCArICJweCIsCiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogaXRlbS5zdHlsZS53aWR0aCArICJweCIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICA6IF92bS5fZSgpLAogICAgICAgICAgICAgIGl0ZW0udHlwZSA9PT0gInJvb20iCiAgICAgICAgICAgICAgICA/IF9jKAogICAgICAgICAgICAgICAgICAgICJkaXYiLAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAiY29tcC1lbGVtZW50IGxpbmUgY29tcC1yb29tIiwKICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogaXRlbS5pc0FjdGl2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgaXNTaGFkb3c6IGl0ZW0uc3R5bGUuaXNBcHBseVNoYWRvdyA9PT0gInRydWUiLAogICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZUFjdGl2ZTogaXRlbS5tdWx0aXBsZUFjdGl2ZUJvb2wKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogaXRlbS5zdHlsZS53aWR0aCArICJweCIsCiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaXRlbS5zdHlsZS5oZWlnaHQgKyAicHgiCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgICBfYygic3BhbiIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6ICJjb21wLXJvb20taW5zZXQiLAogICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBpdGVtLnN0eWxlLndpZHRoICsgInB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGl0ZW0uc3R5bGUuaGVpZ2h0ICsgInB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdHlsZS5iZ2lCb29sID09PSAidHJ1ZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAidXJsKCIgKyBpdGVtLmJhY2tncm91bmRJbWFnZSArICIpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksCiAgICAgICAgICAgICAgaXRlbS50eXBlID09PSAiZGV2aWNlIgogICAgICAgICAgICAgICAgPyBfYygiZGl2IiwgewogICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAiY29tcC1lbGVtZW50IGRldmljZSBjb21wLWRldmljZSIsCiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogaXRlbS5pc0FjdGl2ZSwKICAgICAgICAgICAgICAgICAgICAgIGlzU2hhZG93OiBpdGVtLnN0eWxlLmlzQXBwbHlTaGFkb3cgPT09ICJ0cnVlIiwKICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlQWN0aXZlOiBpdGVtLm11bHRpcGxlQWN0aXZlQm9vbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBpdGVtLnN0eWxlLndpZHRoICsgInB4IiwKICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaXRlbS5zdHlsZS5oZWlnaHQgKyAicHgiLAogICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogaXRlbS5zdHlsZS5iYWNrZ3JvdW5kCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgOiBfdm0uX2UoKSwKICAgICAgICAgICAgICBpdGVtLnR5cGUgPT09ICJ0ZXh0IgogICAgICAgICAgICAgICAgPyBfYygKICAgICAgICAgICAgICAgICAgICAiZGl2IiwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogImNvbXAtZWxlbWVudCBkZXZpY2UgY29tcC10ZXh0IiwKICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogaXRlbS5pc0FjdGl2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgaXNTaGFkb3c6IGl0ZW0uc3R5bGUuaXNBcHBseVNoYWRvdyA9PT0gInRydWUiLAogICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZUFjdGl2ZTogaXRlbS5tdWx0aXBsZUFjdGl2ZUJvb2wKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogaXRlbS5zdHlsZS53aWR0aCArICJweCIsCiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaXRlbS5zdHlsZS5oZWlnaHQgKyAicHgiLAogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBpdGVtLnN0eWxlLmJhY2tncm91bmQKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgICAgIF9jKAogICAgICAgICAgICAgICAgICAgICAgICAiZGl2IiwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogaXRlbS5zdHlsZS53aWR0aCArICJweCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGl0ZW0uc3R5bGUuaGVpZ2h0ICsgInB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBpdGVtLnN0eWxlLmZvbnRTaXplICsgInB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGl0ZW0uc3R5bGUuYmFja2dyb3VuZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpdGVtLnN0eWxlLmNvbG9yCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBjb250ZW50ZWRpdGFibGU6IGl0ZW0uc3R5bGUuaXNBcHBseVNoYWRvdyB9LAogICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibHVyOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5jaGFuZ2VUZXh0VmFsKCRldmVudCwgaXRlbSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoIiAiICsgX3ZtLl9zKGl0ZW0udmFsdWUpICsgIiAiKV0KICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksCiAgICAgICAgICAgICAgaXRlbS50eXBlID09PSAiYWlzbGUiCiAgICAgICAgICAgICAgICA/IF9jKCJkaXYiLCB7CiAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6CiAgICAgICAgICAgICAgICAgICAgICAiY29tcC1lbGVtZW50IGxpbmUgY29tcC1waWxsYXIgY29tcC1waWxsYXItc2hhZG93ICIsCiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogaXRlbS5pc0FjdGl2ZSwKICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlQWN0aXZlOiBpdGVtLm11bHRpcGxlQWN0aXZlQm9vbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaXRlbS5zdHlsZS5oZWlnaHQgKyAicHgiLAogICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGl0ZW0uc3R5bGUud2lkdGggKyAicHgiLAogICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBpdGVtLnN0eWxlLmJvcmRlciwKICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGl0ZW0uc3R5bGUub3BhY2l0eSwKICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGl0ZW0uc3R5bGUuYmFja2dyb3VuZCwKICAgICAgICAgICAgICAgICAgICAgIGlzU2hhZG93OiBpdGVtLnN0eWxlLmlzQXBwbHlTaGFkb3cgPT09ICJ0cnVlIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksCiAgICAgICAgICAgICAgaXRlbS5pc0FjdGl2ZQogICAgICAgICAgICAgICAgPyBfYygic3BhbiIsIHsgc3RhdGljQ2xhc3M6ICJhc3Npc3QiIH0sIFsKICAgICAgICAgICAgICAgICAgICBbImxpbmVfY29sdSJdLmluZGV4T2YoaXRlbS50eXBlKSA9PT0gLTEKICAgICAgICAgICAgICAgICAgICAgID8gX2MoInNwYW4iLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6ICJhZFIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLndpZHRoIC0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmNvbmZpZ3MuZHJhZ0ljb25TaXplICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdHlsZS5ib3JkZXJXaWR0aCAqIDIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmhlaWdodCAvIDIgLQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uY29uZmlncy5kcmFnSWNvblNpemUgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IF92bS5jb25maWdzLmRyYWdJY29uU2l6ZSAqIDIgKyAicHgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBfdm0uY29uZmlncy5kcmFnSWNvblNpemUgKiAyICsgInB4IgogICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgZHJhZ2dhYmxlOiAidHJ1ZSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ3N0YXJ0OiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ucmVzaXplQnlEcmFnQ29tcCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic3RhcnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZzogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnJlc2l6ZUJ5RHJhZ0NvbXAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRyYWciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2VuZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnJlc2l6ZUJ5RHJhZ0NvbXAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpLAogICAgICAgICAgICAgICAgICAgIFsibGluZV9jb2x1Il0uaW5kZXhPZihpdGVtLnR5cGUpID09PSAtMQogICAgICAgICAgICAgICAgICAgICAgPyBfYygic3BhbiIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogImFkTCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IC1fdm0uY29uZmlncy5kcmFnSWNvblNpemUgKyAicHgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmhlaWdodCAvIDIgLQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uY29uZmlncy5kcmFnSWNvblNpemUgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IF92bS5jb25maWdzLmRyYWdJY29uU2l6ZSAqIDIgKyAicHgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBfdm0uY29uZmlncy5kcmFnSWNvblNpemUgKiAyICsgInB4IgogICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgZHJhZ2dhYmxlOiAidHJ1ZSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ3N0YXJ0OiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ucmVzaXplQnlEcmFnQ29tcCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic3RhcnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZzogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnJlc2l6ZUJ5RHJhZ0NvbXAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRyYWciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2VuZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnJlc2l6ZUJ5RHJhZ0NvbXAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpLAogICAgICAgICAgICAgICAgICAgIFsibGluZV9yb3ciXS5pbmRleE9mKGl0ZW0udHlwZSkgPT09IC0xCiAgICAgICAgICAgICAgICAgICAgICA/IF9jKCJzcGFuIiwgewogICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAiYWRUIiwKICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdHlsZS53aWR0aCAvIDIgLQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uY29uZmlncy5kcmFnSWNvblNpemUgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAtX3ZtLmNvbmZpZ3MuZHJhZ0ljb25TaXplICsgInB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBfdm0uY29uZmlncy5kcmFnSWNvblNpemUgKiAyICsgInB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogX3ZtLmNvbmZpZ3MuZHJhZ0ljb25TaXplICogMiArICJweCIKICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGRyYWdnYWJsZTogInRydWUiIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdzdGFydDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnJlc2l6ZUJ5RHJhZ0NvbXAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInN0YXJ0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWc6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5yZXNpemVCeURyYWdDb21wKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkcmFnIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdlbmQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5yZXNpemVCeURyYWdDb21wKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJlbmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKSwKICAgICAgICAgICAgICAgICAgICBbImxpbmVfcm93Il0uaW5kZXhPZihpdGVtLnR5cGUpID09PSAtMQogICAgICAgICAgICAgICAgICAgICAgPyBfYygic3BhbiIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogImFkQiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUud2lkdGggLyAyIC0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmNvbmZpZ3MuZHJhZ0ljb25TaXplICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdHlsZS5oZWlnaHQgLQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uY29uZmlncy5kcmFnSWNvblNpemUgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmJvcmRlcldpZHRoICogMiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJweCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogX3ZtLmNvbmZpZ3MuZHJhZ0ljb25TaXplICogMiArICJweCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IF92bS5jb25maWdzLmRyYWdJY29uU2l6ZSAqIDIgKyAicHgiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBkcmFnZ2FibGU6ICJ0cnVlIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnc3RhcnQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5yZXNpemVCeURyYWdDb21wKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzdGFydCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ucmVzaXplQnlEcmFnQ29tcCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZHJhZyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZW5kOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ucmVzaXplQnlEcmFnQ29tcCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZW5kIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksCiAgICAgICAgICAgICAgICAgICAgX2MoCiAgICAgICAgICAgICAgICAgICAgICAic3BhbiIsCiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAidHJhbnMiLAogICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGl0ZW0uc3R5bGUud2lkdGggKyAyNSArICJweCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBpdGVtLnN0eWxlLmhlaWdodCAvIDIgLSAxMSArICJweCIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgZHJhZ2dhYmxlOiAidHJ1ZSIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnc3RhcnQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnRyYW5zKCRldmVudCwgaXRlbSwgInN0YXJ0IiwgaW5kZXgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS50cmFucygkZXZlbnQsIGl0ZW0sICJkcmFnIiwgaW5kZXgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZW5kOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS50cmFucygkZXZlbnQsIGl0ZW0sICJlbmQiLCBpbmRleCkKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgICAgIF9jKCJpbWciLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogcmVxdWlyZSgiLi8uLi9hc3NldHMvaWNvbi90cmFuc2xhdGUuc3ZnIiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgIDogX3ZtLl9lKCkKICAgICAgICAgICAgXQogICAgICAgICAgKQogICAgICAgIH0pLAogICAgICAgIDAKICAgICAgKSwKICAgICAgIV92bS5jb25maWdzLmJnQWxsQm9vbAogICAgICAgID8gX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJzbGlkZSIgfSwgWwogICAgICAgICAgICBfYygiaW5wdXQiLCB7CiAgICAgICAgICAgICAgZGlyZWN0aXZlczogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBuYW1lOiAibW9kZWwiLAogICAgICAgICAgICAgICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uY29uZmlncy5zY2FsZSwKICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogImNvbmZpZ3Muc2NhbGUiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICBzdGF0aWNDbGFzczogInNsaWRlciIsCiAgICAgICAgICAgICAgY2xhc3M6IHsgZGlzU2NhbGU6IF92bS5jb25maWdzLnNjYWxlID09IDEgfSwKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgdHlwZTogInJhbmdlIiwKICAgICAgICAgICAgICAgIHRpdGxlOiBfdm0uY29uZmlncy5zY2FsZSwKICAgICAgICAgICAgICAgIGlkOiAidm9sIiwKICAgICAgICAgICAgICAgIHN0ZXA6ICIwLjEiLAogICAgICAgICAgICAgICAgbmFtZTogInZvbCIsCiAgICAgICAgICAgICAgICBtaW46ICIwLjciLAogICAgICAgICAgICAgICAgbWF4OiAiMS41IgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5jb25maWdzLnNjYWxlIH0sCiAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgIF9fcjogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uJHNldChfdm0uY29uZmlncywgInNjYWxlIiwgJGV2ZW50LnRhcmdldC52YWx1ZSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICBdKQogICAgICAgIDogX3ZtLl9lKCksCiAgICAgIF92bS5jb25maWdzLmJnQWxsQm9vbAogICAgICAgID8gX2MoImRpdiIsIHsgc3RhdGljQ2xhc3M6ICJzY3JlZW4iIH0sIFsKICAgICAgICAgICAgX2MoImltZyIsIHsKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgc3JjOiByZXF1aXJlKCIuLy4uL2Fzc2V0cy9pY29uL3NjcmVlbl9jYW5jZWwuc3ZnIiksCiAgICAgICAgICAgICAgICBhbHQ6ICLlj7Plr7npvZAiLAogICAgICAgICAgICAgICAgdGl0bGU6ICLlj7Plr7npvZAiCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBvbjogeyBjbGljazogX3ZtLnNjcmVlbiB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICBdKQogICAgICAgIDogX3ZtLl9lKCkKICAgIF0KICApCn0KdmFyIHN0YXRpY1JlbmRlckZucyA9IFtdCnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZQoKZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfQ=="}]}