{"remainingRequest":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/thread-loader/dist/cjs.js!/Users/liangma/Desktop/workspace/BaseMap/node_modules/babel-loader/lib/index.js!/Users/liangma/Desktop/workspace/BaseMap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangma/Desktop/workspace/BaseMap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangma/Desktop/workspace/BaseMap/src/components/editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangma/Desktop/workspace/BaseMap/src/components/editor.vue","mtime":1588419719369},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgRWRpdG9yQ29tcHMgZnJvbSAnLi9lZGl0b3ItY29tcHMnOwppbXBvcnQgRWRpdG9yQ2FudmFzIGZyb20gJy4vZWRpdG9yLWNhbnZhcyc7CmltcG9ydCBFZGl0b3JTZXR0aW5ncyBmcm9tICcuL2VkaXRvci1zZXR0aW5ncyc7CmltcG9ydCBFZGl0b3JIZWxwIGZyb20gJy4vZWRpdG9yLWhlbHAnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0VkaXRvcicsCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtheWRvd25GdW4pOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd25GdW4pOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVTdGF0ZXM6IHsKICAgICAgICBjdXJyZW50QWN0aXZlSW5kZXg6IC0xLAogICAgICAgIGNvcHlCeUtleUJvb2w6IGZhbHNlLAogICAgICAgIG11bHRpcGxlQWN0aXZlQXJyOiBbXQogICAgICB9LAogICAgICBlZHJhd0NvbXBvbmVudHM6IFtdLAogICAgICBjb25maWdzOiB7CiAgICAgICAgYmc6ICJncmlkIiwKICAgICAgICBwYWdlTmFtZTogJ+W6leWbvicsCiAgICAgICAgc3BhY2luZzogMTAsCiAgICAgICAgZG93bG9hZEltZ1R5cGU6ICdwbmcnCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICAnZWRpdG9yLWNvbXBzJzogRWRpdG9yQ29tcHMsCiAgICAnZWRpdG9yLWNhbnZhcyc6IEVkaXRvckNhbnZhcywKICAgICdlZGl0b3Itc2V0dGluZ3MnOiBFZGl0b3JTZXR0aW5ncywKICAgICdlZGl0b3ItaGVscCc6IEVkaXRvckhlbHAKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOe7hOS7tumAieaLqQogICAgc2VsZWN0Q29tcDogZnVuY3Rpb24gc2VsZWN0Q29tcChldmVudCwgY29tcCkgewogICAgICB2YXIgaXRlbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY29tcCkpOwogICAgICBpZiAoIWl0ZW0pIHJldHVybjsKICAgICAgdGhpcy5pbml0Q29tcFN0YXRlKCk7CiAgICAgIGl0ZW0uaXNBY3RpdmUgPSB0cnVlOwogICAgICBpdGVtLm11bHRpcGxlQWN0aXZlQm9vbCA9IGZhbHNlOwogICAgICB2YXIgX2l0ZW0kZGVmU3R5bGUgPSBpdGVtLmRlZlN0eWxlLAogICAgICAgICAgd2lkdGggPSBfaXRlbSRkZWZTdHlsZS53aWR0aCwKICAgICAgICAgIGhlaWdodCA9IF9pdGVtJGRlZlN0eWxlLmhlaWdodCwKICAgICAgICAgIGJvcmRlclJhZGl1cyA9IF9pdGVtJGRlZlN0eWxlLmJvcmRlclJhZGl1czsKICAgICAgdmFyIGNsaWVudFggPSBldmVudC5jbGllbnRYLAogICAgICAgICAgY2xpZW50WSA9IGV2ZW50LmNsaWVudFk7CiAgICAgIHZhciBfc3R5bGUgPSB7CiAgICAgICAgd2lkdGg6IHdpZHRoIHx8IDEwMCwKICAgICAgICBoZWlnaHQ6IGhlaWdodCB8fCAxMDAsCiAgICAgICAgdG9wOiBjbGllbnRZIHx8IDEwMCwKICAgICAgICBsZWZ0OiBjbGllbnRYIHx8IDEwMCwKICAgICAgICBkcmFnX3N0YXJ0X3g6IDAsCiAgICAgICAgLy/mi5bmi73nm7jlr7kKICAgICAgICBkcmFnX3N0YXJ0X3k6IDAsCiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsCiAgICAgICAgaXNBcHBseVNoYWRvdzogJ3RydWUnLAogICAgICAgIGJvcmRlclJhZGl1czogYm9yZGVyUmFkaXVzIHx8IDAKICAgICAgfTsKICAgICAgaXRlbS5zdHlsZSA9IF9zdHlsZTsKICAgICAgdGhpcy5lZHJhd0NvbXBvbmVudHMucHVzaChpdGVtKTsKICAgICAgdGhpcy5lU3RhdGVzLmN1cnJlbnRBY3RpdmVJbmRleCA9IHRoaXMuZWRyYXdDb21wb25lbnRzLmxlbmd0aCAtIDE7CiAgICB9LAogICAgaW5pdENvbXBvbmVudFN0YXRlOiBmdW5jdGlvbiBpbml0Q29tcG9uZW50U3RhdGUoY3VycmVudCwgZXZlbnQpIHsKICAgICAgaWYgKGN1cnJlbnQgPT09IHVuZGVmaW5lZCB8fCBjdXJyZW50ID09PSBudWxsIHx8IGN1cnJlbnQgPT09IC0xKSByZXR1cm47CgogICAgICBpZiAoZXZlbnQgJiYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSAmJiB0aGlzLmlzTWFjKCkpICYmIGV2ZW50LmJ1dHRvbiA9PT0gMCkgewogICAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzW2N1cnJlbnRdLmlzQWN0aXZlID0gZmFsc2U7CgogICAgICAgIGlmICh0aGlzLmVTdGF0ZXMuY3VycmVudEFjdGl2ZUluZGV4ID4gLTEpIHsKICAgICAgICAgIHRoaXMuZVN0YXRlcy5jdXJyZW50QWN0aXZlSW5kZXggPSAtMTsKICAgICAgICB9IC8vIOWkmumAieaTjeS9nOe8k+WtmOaVsOe7hAoKCiAgICAgICAgdmFyIF9tdWx0aXBBY3RpdmVJbmRleCA9IHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFyci5pbmRleE9mKHRoaXMuZWRyYXdDb21wb25lbnRzW2N1cnJlbnRdKTsKCiAgICAgICAgaWYgKF9tdWx0aXBBY3RpdmVJbmRleCA9PT0gLTEpIHsKICAgICAgICAgIHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFyci5wdXNoKHRoaXMuZWRyYXdDb21wb25lbnRzW2N1cnJlbnRdKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmVkcmF3Q29tcG9uZW50c1tjdXJyZW50XS5tdWx0aXBsZUFjdGl2ZUJvb2wpIHsKICAgICAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzW2N1cnJlbnRdLm11bHRpcGxlQWN0aXZlQm9vbCA9IGZhbHNlOwogICAgICAgICAgdGhpcy5lU3RhdGVzLm11bHRpcGxlQWN0aXZlQXJyLnNwbGljZShfbXVsdGlwQWN0aXZlSW5kZXgsIDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVkcmF3Q29tcG9uZW50c1tjdXJyZW50XS5tdWx0aXBsZUFjdGl2ZUJvb2wgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmluaXRDb21wU3RhdGUoKTsKICAgICAgICB0aGlzLmVTdGF0ZXMuY3VycmVudEFjdGl2ZUluZGV4ID0gY3VycmVudDsKICAgICAgICB0aGlzLmVkcmF3Q29tcG9uZW50c1tjdXJyZW50XS5pc0FjdGl2ZSA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICAvLyDliJ3lp4vljJbnlLvluIPlhoXnu4Tku7bnirbmgIEKICAgIGluaXRDb21wU3RhdGU6IGZ1bmN0aW9uIGluaXRDb21wU3RhdGUoKSB7CiAgICAgIHZhciBsZW4gPSB0aGlzLmVkcmF3Q29tcG9uZW50cy5sZW5ndGg7CiAgICAgIHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFyciA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzW2ldLmlzQWN0aXZlID0gZmFsc2U7CiAgICAgICAgdGhpcy5lZHJhd0NvbXBvbmVudHNbaV0ubXVsdGlwbGVBY3RpdmVCb29sID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMuZVN0YXRlcy5jb3B5QnlLZXlCb29sID0gZmFsc2U7CiAgICB9LAogICAgLy8g57uE5Lu25ouW5ou977yaY3RybGtleSA9PT0gdHJ1ZSDlpITnkIblpJrpgIkKICAgIGRyYWdDdXJyZW50Q29tcDogZnVuY3Rpb24gZHJhZ0N1cnJlbnRDb21wKGV2ZW50LCBjb21wLCBzdGF0ZSwgY3VycmVudEluZGV4LCBjYW52ZXNSZWN0KSB7CiAgICAgIGlmIChldmVudCAmJiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5ICYmIHRoaXMuaXNNYWMoKSkpIHsKICAgICAgICBjb25zb2xlLmxvZygn5aSa6YCJ5aSE55CGJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lU3RhdGVzLmNvcHlCeUtleUJvb2wgPSBmYWxzZTsKCiAgICAgICAgaWYgKHN0YXRlID09PSAnc3RhcnQnKSB7CiAgICAgICAgICB0aGlzLmVTdGF0ZXMuY3VycmVudEFjdGl2ZUluZGV4ID0gY3VycmVudEluZGV4OwogICAgICAgICAgY29tcC5zdHlsZS5kcmFnX3N0YXJ0X3ggPSBldmVudC5jbGllbnRYIC0gY29tcC5zdHlsZS5sZWZ0OwogICAgICAgICAgY29tcC5zdHlsZS5kcmFnX3N0YXJ0X3kgPSBldmVudC5jbGllbnRZIC0gY29tcC5zdHlsZS50b3A7CiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gJ2RyYWcnKSB7CiAgICAgICAgICB2YXIgX2xlZnQgPSBldmVudC5jbGllbnRYIC0gY29tcC5zdHlsZS5kcmFnX3N0YXJ0X3g7CgogICAgICAgICAgdmFyIF90b3AgPSBldmVudC5jbGllbnRZIC0gY29tcC5zdHlsZS5kcmFnX3N0YXJ0X3k7CgogICAgICAgICAgaWYgKF9sZWZ0IDwgMCB8fCBfdG9wIDwgMCkgcmV0dXJuOwogICAgICAgICAgdmFyIGxlZnQgPSBfbGVmdCAtIGNhbnZlc1JlY3QueCA+PSAwID8gX2xlZnQgOiBjYW52ZXNSZWN0Lng7IC8vIOWkhOeQhmxlZnTnvJbovpHpl67popgKCiAgICAgICAgICB2YXIgdG9wID0gX3RvcCAtIGNhbnZlc1JlY3QueSA+PSAwID8gX3RvcCA6IGNhbnZlc1JlY3QueTsgLy8g5aSE55CGdG9w6L6555WM6Zeu6aKYCgogICAgICAgICAgY29tcC5zdHlsZS5sZWZ0ID0gbGVmdDsKICAgICAgICAgIGNvbXAuc3R5bGUudG9wID0gdG9wOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOe7hOS7tuWIoOmZpAogICAgZGVsQ29tcDogZnVuY3Rpb24gZGVsQ29tcChpbmRleCwgc3RhdGUpIHsKICAgICAgaWYgKHN0YXRlID09PSAnbXVsdGlwbGVEZWwnKSB7CiAgICAgICAgdmFyIGxlbiA9IHRoaXMuZWRyYXdDb21wb25lbnRzLmxlbmd0aDsKICAgICAgICB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnIgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IGxlbjsgaS0tOyBpID4gMCkgewogICAgICAgICAgdmFyIG11bHRpcEJvb2wgPSB0aGlzLmVkcmF3Q29tcG9uZW50c1tpXS5tdWx0aXBsZUFjdGl2ZUJvb2w7CgogICAgICAgICAgaWYgKG11bHRpcEJvb2wpIHsKICAgICAgICAgICAgdGhpcy5lZHJhd0NvbXBvbmVudHMuc3BsaWNlKGksIDEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5lU3RhdGVzLmN1cnJlbnRBY3RpdmVJbmRleCA+IC0xICYmIHRoaXMuZWRyYXdDb21wb25lbnRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzLnNwbGljZSh0aGlzLmVTdGF0ZXMuY3VycmVudEFjdGl2ZUluZGV4LCAxKTsKICAgICAgICAgIHRoaXMuZVN0YXRlcy5jdXJyZW50QWN0aXZlSW5kZXggPSAtMTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDplK7nm5jmi7fotJ3kuovku7YKICAgIGtheWRvd25GdW46IGZ1bmN0aW9uIGtheWRvd25GdW4oZXZlbnQpIHsKICAgICAgaWYgKHRoaXMuZVN0YXRlcy5jdXJyZW50QWN0aXZlSW5kZXggPT09IC0xKSByZXR1cm47CgogICAgICBpZiAoZXZlbnQua2V5ID09PSAnYycpIHsKICAgICAgICB0aGlzLmVTdGF0ZXMuY29weUJ5S2V5Qm9vbCA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5lU3RhdGVzLmNvcHlCeUtleUJvb2wgJiYgZXZlbnQua2V5ID09PSAndicpIHsKICAgICAgICB0aGlzLmNvcHlDdXJyZW50Q29tcCgpOwogICAgICB9CgogICAgICBpZiAoZXZlbnQua2V5ID09PSAnRGVsZXRlJyB8fCB0aGlzLmlzTWFjKCkgJiYgZXZlbnQua2V5ID09PSAnQmFja3NwYWNlJykgewogICAgICAgIHRoaXMuZGVsQ29tcCgpOwogICAgICB9CiAgICB9LAogICAgLy8g5aSa6YCJ5LqL5Lu2CiAgICBtb3VzZWRvd25GdW46IGZ1bmN0aW9uIG1vdXNlZG93bkZ1bihldmVudCkgewogICAgICBpZiAoKCFldmVudC5jdHJsS2V5IHx8ICFldmVudC5tZXRhS2V5ICYmIHRoaXMuaXNNYWMoKSkgJiYgZXZlbnQuYnV0dG9uID09PSAwICYmIGV2ZW50LnRhcmdldC5pZCA9PT0gJ2NhbnZhcycgJiYgIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NvbXAtZWxlbWVudCcpKSB7CiAgICAgICAgdGhpcy5lU3RhdGVzLmNvcHlCeUtleUJvb2wgPSBmYWxzZTsKICAgICAgICB0aGlzLmluaXRDb21wU3RhdGUoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIm+W7uuW9k+WJjee7hOS7tgogICAgY29weUN1cnJlbnRDb21wOiBmdW5jdGlvbiBjb3B5Q3VycmVudENvbXAoKSB7CiAgICAgIHZhciBfY3VyckNvbXAgPSB0aGlzLmVkcmF3Q29tcG9uZW50c1t0aGlzLmVTdGF0ZXMuY3VycmVudEFjdGl2ZUluZGV4XTsKICAgICAgaWYgKCFfY3VyckNvbXApIHJldHVybjsKICAgICAgX2N1cnJDb21wLmlzQWN0aXZlID0gZmFsc2U7CgogICAgICB2YXIgX2NvcHkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF9jdXJyQ29tcCkpOwoKICAgICAgdmFyIF9zdHlsZSA9IF9jdXJyQ29tcC5zdHlsZTsKICAgICAgX2NvcHkuc3R5bGUudG9wID0gX3N0eWxlLmhlaWdodCArIF9zdHlsZS50b3AgKyAxOwogICAgICBfY29weS5pc0FjdGl2ZSA9IHRydWU7CiAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzLnB1c2goX2NvcHkpOwogICAgICB0aGlzLmVTdGF0ZXMuY3VycmVudEFjdGl2ZUluZGV4ID0gdGhpcy5lZHJhd0NvbXBvbmVudHMubGVuZ3RoIC0gMTsgLy/mm7TmlrDmv4DmtLvnu4Tku7bnmoTkuIvmoIcKICAgIH0sCiAgICAvLyDlpJrpgInmk43kvZw65Y+N6YCJL+a4heepuuWkmumAiS/lsZ7mgKflupTnlKgKICAgIHNldE11bHRpcGxlU3RhdGU6IGZ1bmN0aW9uIHNldE11bHRpcGxlU3RhdGUoc3RhdGUsIHZhbHVlKSB7CiAgICAgIGlmIChzdGF0ZSA9PT0gJ3JlU2VsJykgewogICAgICAgIHZhciBsZW4gPSB0aGlzLmVkcmF3Q29tcG9uZW50cy5sZW5ndGg7CiAgICAgICAgdGhpcy5lU3RhdGVzLm11bHRpcGxlQWN0aXZlQXJyID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSBsZW47IGktLTsgaSA+IDApIHsKICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5lZHJhd0NvbXBvbmVudHNbaV07CgogICAgICAgICAgaWYgKCFpdGVtLm11bHRpcGxlQWN0aXZlQm9vbCkgewogICAgICAgICAgICB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnIucHVzaChpdGVtKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpdGVtLm11bHRpcGxlQWN0aXZlQm9vbCA9ICFpdGVtLm11bHRpcGxlQWN0aXZlQm9vbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09ICdjbGVhcicpIHsKICAgICAgICB2YXIgX2xlbiA9IHRoaXMuZWRyYXdDb21wb25lbnRzLmxlbmd0aDsKICAgICAgICB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnIgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgX2kgPSBfbGVuOyBfaS0tOyBfaSA+IDApIHsKICAgICAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzW19pXS5tdWx0aXBsZUFjdGl2ZUJvb2wgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoWydpc0FwcGx5U2hhZG93JywgJ2JvcmRlclJhZGl1cyddLmluZGV4T2Yoc3RhdGUpID4gLTEpIHsKICAgICAgICB2YXIgX2xlbjIgPSB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnIubGVuZ3RoOwoKICAgICAgICBmb3IgKHZhciBfaTIgPSBfbGVuMjsgX2kyLS07IF9pMiA+IDApIHsKICAgICAgICAgIHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFycltfaTJdLnN0eWxlW3N0YXRlXSA9IHZhbHVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gJ2FsaWduJykgewogICAgICAgIHN3aXRjaCAodmFsdWUpIHsKICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICB0aGlzLm11bHRpcEFycmF5KCd0b3AnKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnbCc6CiAgICAgICAgICAgIHRoaXMubXVsdGlwQXJyYXkoJ2xlZnQnKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnYic6CiAgICAgICAgICAgIHRoaXMubXVsdGlwQXJyYXkoJ2JvdHRvbScpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdyJzoKICAgICAgICAgICAgdGhpcy5tdWx0aXBBcnJheSgncmlnaHQnKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g5Yig6Zmk5aSa6YCJ5YWD57SgCiAgICBkZWxNdWx0aXBDb21wOiBmdW5jdGlvbiBkZWxNdWx0aXBDb21wKGNvbXAsIGluZGV4KSB7CiAgICAgIHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFyci5zcGxpY2UoaW5kZXgsIDEpOwoKICAgICAgdmFyIF9pbmRleCA9IHRoaXMuZWRyYXdDb21wb25lbnRzLmluZGV4T2YoY29tcCk7CgogICAgICBpZiAoX2luZGV4ID4gLTEpIHsKICAgICAgICB0aGlzLmVkcmF3Q29tcG9uZW50c1tfaW5kZXhdLm11bHRpcGxlQWN0aXZlQm9vbCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlQ29uZmlnOiBmdW5jdGlvbiBjaGFuZ2VDb25maWcoc3RhdGUsIHZhbHVlKSB7CiAgICAgIGlmICghdGhpcy5jb25maWdzW3N0YXRlXSkgcmV0dXJuOwogICAgICB0aGlzLmNvbmZpZ3Nbc3RhdGVdID0gdmFsdWU7CiAgICB9LAogICAgbXVsdGlwQXJyYXk6IGZ1bmN0aW9uIG11bHRpcEFycmF5KHBhcmFtKSB7CiAgICAgIHZhciBsaXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmVkcmF3Q29tcG9uZW50cykpOwogICAgICBsaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gWyd0b3AnLCAnbGVmdCddLmluZGV4T2YocGFyYW0pID4gLTEgPyBhLnN0eWxlW3BhcmFtXSAtIGIuc3R5bGVbcGFyYW1dIDogcGFyYW0gPT09ICdib3R0b20nID8gYi5zdHlsZS50b3AgKyBiLnN0eWxlLmhlaWdodCAtIChhLnN0eWxlLnRvcCArIGEuc3R5bGUuaGVpZ2h0KSA6IGIuc3R5bGUubGVmdCArIGIuc3R5bGUud2lkdGggLSAoYS5zdHlsZS5sZWZ0ICsgYS5zdHlsZS53aWR0aCk7CiAgICAgIH0pOwogICAgICB2YXIgbGVuID0gdGhpcy5lZHJhd0NvbXBvbmVudHMubGVuZ3RoOwogICAgICB2YXIgcmVzT2JqID0gbGlzdFswXTsKCiAgICAgIGlmIChbJ3RvcCcsICdsZWZ0J10uaW5kZXhPZihwYXJhbSkgPiAtMSkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzW2ldLnN0eWxlW3BhcmFtXSA9IHJlc09iai5zdHlsZVtwYXJhbV07CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBhcmFtID09PSAnYm90dG9tJykgewogICAgICAgIHZhciBfYm90dG9tID0gcmVzT2JqLnN0eWxlLnRvcCArIHJlc09iai5zdHlsZS5oZWlnaHQ7CgogICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGxlbjsgX2kzKyspIHsKICAgICAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzW19pM10uc3R5bGUudG9wID0gX2JvdHRvbSAtIHRoaXMuZWRyYXdDb21wb25lbnRzW19pM10uc3R5bGUuaGVpZ2h0OwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwYXJhbSA9PT0gJ3JpZ2h0JykgewogICAgICAgIGNvbnNvbGUubG9nKHBhcmFtLCByZXNPYmopOwoKICAgICAgICB2YXIgX3JpZ2h0ID0gcmVzT2JqLnN0eWxlLmxlZnQgKyByZXNPYmouc3R5bGUud2lkdGg7CgogICAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IGxlbjsgX2k0KyspIHsKICAgICAgICAgIGNvbnNvbGUubG9nKF9yaWdodCk7CiAgICAgICAgICBjb25zb2xlLmxvZyhfcmlnaHQgLSB0aGlzLmVkcmF3Q29tcG9uZW50c1tfaTRdLnN0eWxlLndpZHRoKTsKICAgICAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzW19pNF0uc3R5bGUubGVmdCA9IF9yaWdodCAtIHRoaXMuZWRyYXdDb21wb25lbnRzW19pNF0uc3R5bGUud2lkdGg7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgaXNNYWM6IGZ1bmN0aW9uIGlzTWFjKCkgewogICAgICByZXR1cm4gL21hY2ludG9zaHxtYWMgb3MgeC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["editor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"editor\">\n    <editor-comps \n      v-bind:elements=\"edrawComponents\"\n      v-on:initCompsState=\"initComponentState\" \n      v-on:selectComp=\"selectComp\"></editor-comps>\n    <editor-canvas \n      v-bind:configs=\"configs\"\n      v-bind:edrawComps=\"edrawComponents\"\n      v-bind:currentActiveIndex=\"eStates.currentActiveIndex\"\n      v-bind:multipleActiveBool=\"eStates.multipleActiveBool\"\n      v-on:initCompsState=\"initComponentState\" \n      v-on:dragComp=\"dragCurrentComp\"></editor-canvas>\n    <editor-settings\n      v-bind:currentActiveIndex=\"eStates.currentActiveIndex\"\n      v-bind:currentElement=\"edrawComponents[eStates.currentActiveIndex]\"\n      v-bind:multipleActiveArr=\"eStates.multipleActiveArr\"\n      v-bind:configs=\"configs\"\n      v-on:delComp=\"delComp\"\n      v-on:delMultipComp=\"delMultipComp\"\n      v-on:setMultipleState=\"setMultipleState\"\n      v-on:changeConfig=\"changeConfig\"></editor-settings>\n    <editor-help>\n      \n    </editor-help>\n  </div>\n</template>\n\n<script>\nimport EditorComps from './editor-comps';\nimport EditorCanvas from './editor-canvas';\nimport EditorSettings from './editor-settings';\nimport EditorHelp from './editor-help'\n\nexport default {\n  name: 'Editor',\n  created:function() {\n    document.addEventListener('keydown', this.kaydownFun);\n    document.addEventListener('mousedown', this.mousedownFun)\n  },\n  data(){\n     return {\n        eStates:{\n          currentActiveIndex:-1,\n          copyByKeyBool:false,\n          multipleActiveArr:[],\n        },\n        edrawComponents:[],\n        configs:{\n          bg:\"grid\",\n          pageName:'底图',\n          spacing:10,\n          dowloadImgType:'png'\n        }\n     }\n  },\n  components: {\n    'editor-comps':EditorComps,\n    'editor-canvas':EditorCanvas,\n    'editor-settings':EditorSettings,\n    'editor-help':EditorHelp\n  },\n  methods: {\n    \n    // 组件选择\n    selectComp(event, comp) {\n      let item = JSON.parse(JSON.stringify(comp));\n      if(!item) return;\n      this.initCompState();\n      item.isActive = true;\n      item.multipleActiveBool=false;\n      let {width, height, borderRadius} = item.defStyle;\n      let {clientX , clientY} = event;\n      let _style = {\n          width:width || 100,\n          height:height || 100,\n          top: clientY ||100,\n          left:clientX || 100,\n          drag_start_x: 0, //拖拽相对\n          drag_start_y :0,\n          position:'absolute',\n          isApplyShadow:'true',\n          borderRadius:borderRadius || 0\n      }\n      item.style = _style;\n      this.edrawComponents.push(item);\n      this.eStates.currentActiveIndex = this.edrawComponents.length -1;\n    },\n    initComponentState(current, event) {\n      if(current === undefined || current === null || current === -1) return;\n      if(event && (event.ctrlKey || event.metaKey && this.isMac()) && event.button === 0 ) {\n        this.edrawComponents[current].isActive = false;\n        if(this.eStates.currentActiveIndex > -1) {\n          this.eStates.currentActiveIndex = -1;\n        }\n\n        // 多选操作缓存数组\n        const _multipActiveIndex = this.eStates.multipleActiveArr.indexOf(this.edrawComponents[current]);\n        if( _multipActiveIndex === -1) {\n          this.eStates.multipleActiveArr.push(this.edrawComponents[current])\n        }\n\n        if(this.edrawComponents[current].multipleActiveBool) {\n          this.edrawComponents[current].multipleActiveBool = false;\n          this.eStates.multipleActiveArr.splice(_multipActiveIndex, 1);\n        } else {\n          this.edrawComponents[current].multipleActiveBool = true;\n        }\n      }else {\n        this.initCompState();     \n        this.eStates.currentActiveIndex = current;\n        this.edrawComponents[current].isActive = true;\n      }\n\n    },\n    // 初始化画布内组件状态\n    initCompState() {\n      let len = this.edrawComponents.length;\n      this.eStates.multipleActiveArr = [];\n      for(let i=0;i<len;i++) {\n        this.edrawComponents[i].isActive = false;\n        this.edrawComponents[i].multipleActiveBool = false;\n      }\n      this.eStates.copyByKeyBool = false;\n    },\n    // 组件拖拽：ctrlkey === true 处理多选\n    dragCurrentComp(event, comp, state, currentIndex, canvesRect) {\n      if(event && (event.ctrlKey || event.metaKey && this.isMac())  ){\n        console.log('多选处理')\n      } else {\n        this.eStates.copyByKeyBool = false;\n        if(state === 'start') {\n          this.eStates.currentActiveIndex = currentIndex;\n          comp.style.drag_start_x = event.clientX - comp.style.left;\n          comp.style.drag_start_y = event.clientY - comp.style.top;\n        }else if(state === 'drag'){\n          let _left = event.clientX - comp.style.drag_start_x; \n          let _top = event.clientY - comp.style.drag_start_y;\n          if(_left <0 || _top < 0) return;\n          let left = (_left - canvesRect.x) >= 0 ? _left : canvesRect.x; // 处理left编辑问题\n          let top = (_top - canvesRect.y) >= 0 ? _top : canvesRect.y; // 处理top边界问题\n          comp.style.left = left;\n          comp.style.top = top;\n        }\n      }\n    },\n    // 组件删除\n    delComp(index, state) {\n      if(state === 'multipleDel') {\n        let len = this.edrawComponents.length;\n        this.eStates.multipleActiveArr = [];\n        for(let i=len;i--;i >0) {\n          let multipBool = this.edrawComponents[i].multipleActiveBool;\n          if(multipBool) {\n            this.edrawComponents.splice(i,1)\n          }\n        }\n      } else {\n        if(this.eStates.currentActiveIndex > -1 &&this.edrawComponents.length > 0) {\n          this.edrawComponents.splice(this.eStates.currentActiveIndex,1)\n          this.eStates.currentActiveIndex = -1;\n        }\n      }\n    },\n    // 键盘拷贝事件\n    kaydownFun(event) {\n      if(this.eStates.currentActiveIndex === -1) return; \n      if(event.key === 'c') {\n        this.eStates.copyByKeyBool = true;\n      }else if(this.eStates.copyByKeyBool && event.key === 'v') {\n        this.copyCurrentComp();\n      }\n      if(event.key === 'Delete' || this.isMac() && event.key === 'Backspace')  {\n        this.delComp();\n      }\n    },\n    // 多选事件\n    mousedownFun(event) {\n      if((!event.ctrlKey || !event.metaKey && this.isMac()) && event.button === 0 \n        && event.target.id==='canvas' \n        && !event.target.classList.contains('comp-element')) {\n        this.eStates.copyByKeyBool = false;\n        this.initCompState();\n      } \n    },\n    // 创建当前组件\n    copyCurrentComp:function() {\n      let _currComp = this.edrawComponents[this.eStates.currentActiveIndex];\n      if(!_currComp) return;\n      _currComp.isActive = false;\n      let _copy = JSON.parse(JSON.stringify(_currComp));\n      let _style = _currComp.style;\n      _copy.style.top = _style.height + _style.top + 1;\n      _copy.isActive = true;\n      this.edrawComponents.push(_copy);\n      this.eStates.currentActiveIndex = this.edrawComponents.length - 1; //更新激活组件的下标\n    },\n    // 多选操作:反选/清空多选/属性应用\n    setMultipleState:function(state, value) {\n      if(state === 'reSel') {\n        let len = this.edrawComponents.length;\n        this.eStates.multipleActiveArr = [];\n        for(let i=len;i--;i >0) {\n          let item = this.edrawComponents[i];\n          if(!item.multipleActiveBool) {  \n            this.eStates.multipleActiveArr.push(item);\n          }\n          item.multipleActiveBool = !item.multipleActiveBool;\n        }\n      } else if(state === 'clear'){\n        let len = this.edrawComponents.length;\n        this.eStates.multipleActiveArr = [];\n        for(let i=len;i--;i >0) {\n          this.edrawComponents[i].multipleActiveBool = false;\n        }\n      }else if(['isApplyShadow', 'borderRadius'].indexOf(state) > -1) {\n        let len = this.eStates.multipleActiveArr.length;\n        for(let i=len;i--;i >0) {\n          this.eStates.multipleActiveArr[i].style[state] = value;\n        }\n      }else if(state === 'align') {\n        switch(value) {\n          case 't' :\n            this.multipArray('top');\n            break;\n          case 'l' :\n            this.multipArray('left');\n            break;\n          case 'b' :\n            this.multipArray('bottom');\n            break;\n          case 'r' :\n            this.multipArray('right');\n            break;\n          default:\n            break;\n        }\n      }\n    },\n    // 删除多选元素\n    delMultipComp(comp, index) {\n      this.eStates.multipleActiveArr.splice(index, 1);\n      let _index = this.edrawComponents.indexOf(comp);\n      if(_index > -1) {\n        this.edrawComponents[_index].multipleActiveBool = false;\n      }\n    },\n    changeConfig(state, value){\n      if(!this.configs[state]) return;\n      this.configs[state] = value;\n    },\n    multipArray(param) {\n      let list = JSON.parse(JSON.stringify(this.edrawComponents));\n      list.sort(function(a, b) {\n        return ['top', 'left'].indexOf(param) > -1 ? a.style[param] - b.style[param]:\n          param === 'bottom' ?  b.style.top + b.style.height - (a.style.top + a.style.height) :\n          b.style.left + b.style.width - (a.style.left + a.style.width) \n      });\n      let len = this.edrawComponents.length;\n      let resObj = list[0];\n      if(['top', 'left'].indexOf(param) > -1) {\n        for(let i=0;i<len;i++) {\n          this.edrawComponents[i].style[param] = resObj.style[param];\n        }\n      }else if(param === 'bottom') {\n        let _bottom = resObj.style.top + resObj.style.height;\n        for(let i=0;i<len;i++) {\n          this.edrawComponents[i].style.top = _bottom - this.edrawComponents[i].style.height;\n        }\n      }else if(param === 'right') {\n        console.log(param, resObj)\n        let _right = resObj.style.left + resObj.style.width;\n        for(let i=0;i<len;i++) {\n          console.log(_right)\n          console.log(_right - this.edrawComponents[i].style.width)\n          this.edrawComponents[i].style.left = _right - this.edrawComponents[i].style.width;\n        }\n      }\n    },\n    isMac:function() {\n      return /macintosh|mac os x/i.test(navigator.userAgent)\n    }\n  }\n}\n</script>\n\n<style>\n\n#editor {\n  margin-top: 60px;\n  padding: 0;\n  position: relative;\n  color: #2c3e50;\n  display: grid;\n  grid-template-columns: 205px auto 205px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}