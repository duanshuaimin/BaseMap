{"remainingRequest":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/thread-loader/dist/cjs.js!/Users/liangma/Desktop/workspace/BaseMap/node_modules/babel-loader/lib/index.js!/Users/liangma/Desktop/workspace/BaseMap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liangma/Desktop/workspace/BaseMap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liangma/Desktop/workspace/BaseMap/src/components/editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangma/Desktop/workspace/BaseMap/src/components/editor.vue","mtime":1589129244669},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgRWRpdG9yQ29tcHMgZnJvbSAnLi9lZGl0b3ItY29tcHMnOwppbXBvcnQgRWRpdG9yQ2FudmFzIGZyb20gJy4vZWRpdG9yLWNhbnZhcyc7CmltcG9ydCBFZGl0b3JTZXR0aW5ncyBmcm9tICcuL2VkaXRvci1zZXR0aW5ncyc7CmltcG9ydCBFZGl0b3JIZWxwIGZyb20gJy4vZWRpdG9yLWhlbHAnOwppbXBvcnQgRWRpdG9ySGlzdG9yeSBmcm9tICcuL2VkaXRvci1oaXN0b3J5JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFZGl0b3InLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXRTdG9yYWdlRGF0YSgpOwogICAgdGhpcy5pbml0QmluZGluZ0V2ZW50KCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZVN0YXRlczogewogICAgICAgIGN1cnJlbnRBY3RpdmVJbmRleDogLTEsCiAgICAgICAgY29weUJ5S2V5Qm9vbDogZmFsc2UsCiAgICAgICAgbXVsdGlwbGVBY3RpdmVBcnI6IFtdCiAgICAgIH0sCiAgICAgIGVkcmF3Q29tcG9uZW50czogW10sCiAgICAgIGNvbmZpZ3M6IHsKICAgICAgICBiZzogImdyaWQiLAogICAgICAgIHBhZ2VOYW1lOiAn5bqV5Zu+JywKICAgICAgICBzcGFjaW5nOiAxMCwKICAgICAgICBzY2FsZTogMSwKICAgICAgICBJc29tZXRyaWNfcm93OiAxMCwKICAgICAgICBJc29tZXRyaWNfY29sdTogMTAsCiAgICAgICAgZG93bG9hZEltZ1R5cGU6ICdwbmcnLAogICAgICAgIGJnQWxsQm9vbDogZmFsc2UsCiAgICAgICAgd2luZG93X3c6IDE5MjAsCiAgICAgICAgd2luZG93X2g6IDkwMCwKICAgICAgICBiYWNrZ3JvdW5kVXJsOiAiIgogICAgICB9LAogICAgICBoaXN0b3J5Q3Vycm5ldERhdGE6IFtdLAogICAgICBjdXJyZW50SGlzdG9yeUluZGV4OiAtMSwKICAgICAgYWN0aXZlSGlzdG9yeUJvb2w6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgJ2VkaXRvci1jb21wcyc6IEVkaXRvckNvbXBzLAogICAgJ2VkaXRvci1jYW52YXMnOiBFZGl0b3JDYW52YXMsCiAgICAnZWRpdG9yLXNldHRpbmdzJzogRWRpdG9yU2V0dGluZ3MsCiAgICAnZWRpdG9yLWhlbHAnOiBFZGl0b3JIZWxwLAogICAgJ2VkaXRvci1oaXN0b3J5JzogRWRpdG9ySGlzdG9yeQogIH0sCiAgbWV0aG9kczogewogICAgaW5pdERhdGE6IGZ1bmN0aW9uIGluaXREYXRhKCkgewogICAgICB0aGlzLmFjdGl2ZUhpc3RvcnlCb29sID0gZmFsc2U7CiAgICB9LAogICAgaW5pdEJpbmRpbmdFdmVudDogZnVuY3Rpb24gaW5pdEJpbmRpbmdFdmVudCgpIHsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2F5ZG93bkZ1biwgZmFsc2UpOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm1vdXNlZG93bkZ1bik7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLmxlYXZpbmcpOwogICAgfSwKICAgIGxlYXZpbmc6IGZ1bmN0aW9uIGxlYXZpbmcoZXZlbnQpIHsKICAgICAgdGhpcy5zYXZlRGF0ZVRvU3RvcmFnZSgpOwogICAgICBjb25zb2xlLmxvZyhldmVudC5yZXR1cm5WYWx1ZSk7IC8vIGxldCBtZXNzYWdlID0gIuWGheWuueabtOaUue+8jOazqOaEj+aIquWbvue8k+WtmCI7IAogICAgICAvLyBldmVudC5yZXR1cm5WYWx1ZSA9IG1lc3NhZ2U7CiAgICAgIC8vIHJldHVybiBtZXNzYWdlOwogICAgfSwKICAgIGRvd25sb2FkOiBmdW5jdGlvbiBkb3dubG9hZCgpIHsvL1RPRE866aG16Z2i5LiL6L29CiAgICB9LAogICAgc2F2ZUFzOiBmdW5jdGlvbiBzYXZlQXMoaW1nKSB7CiAgICAgIHZhciBfZG9tID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKCiAgICAgIF9kb20uaHJlZiA9IGltZzsKICAgICAgX2RvbS5kYXRhc2V0LmRvd25sb2FkdXJsID0gWydpbWFnZS9wbmcnLCAnSU1HX0RPV05MT0FEX05BTUUnLCBfZG9tLmhyZWZdLmpvaW4oJzonKTsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChfZG9tKTsKCiAgICAgIF9kb20uY2xpY2soKTsKCiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoX2RvbSk7CiAgICB9LAogICAgLy8g57uE5Lu26YCJ5oupCiAgICBzZWxlY3RDb21wOiBmdW5jdGlvbiBzZWxlY3RDb21wKGV2ZW50LCBjb21wKSB7CiAgICAgIHZhciBpdGVtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjb21wKSk7CiAgICAgIGlmICghaXRlbSkgcmV0dXJuOwogICAgICB0aGlzLmluaXRDb21wU3RhdGUoKTsKICAgICAgaXRlbS5pc0FjdGl2ZSA9IHRydWU7CiAgICAgIGl0ZW0ubXVsdGlwbGVBY3RpdmVCb29sID0gZmFsc2U7CiAgICAgIHZhciBfaXRlbSRkZWZTdHlsZSA9IGl0ZW0uZGVmU3R5bGUsCiAgICAgICAgICB3aWR0aCA9IF9pdGVtJGRlZlN0eWxlLndpZHRoLAogICAgICAgICAgaGVpZ2h0ID0gX2l0ZW0kZGVmU3R5bGUuaGVpZ2h0LAogICAgICAgICAgYm9yZGVyUmFkaXVzID0gX2l0ZW0kZGVmU3R5bGUuYm9yZGVyUmFkaXVzLAogICAgICAgICAgcm90YXRlID0gX2l0ZW0kZGVmU3R5bGUucm90YXRlLAogICAgICAgICAgYm9yZGVyV2lkdGggPSBfaXRlbSRkZWZTdHlsZS5ib3JkZXJXaWR0aCwKICAgICAgICAgIGJhY2tncm91bmQgPSBfaXRlbSRkZWZTdHlsZS5iYWNrZ3JvdW5kOwogICAgICB2YXIgY2xpZW50WCA9IGV2ZW50LmNsaWVudFgsCiAgICAgICAgICBjbGllbnRZID0gZXZlbnQuY2xpZW50WTsKICAgICAgdmFyIF9zdHlsZSA9IHsKICAgICAgICB3aWR0aDogd2lkdGggfHwgMTAwLAogICAgICAgIGhlaWdodDogaGVpZ2h0IHx8IDEwMCwKICAgICAgICB0b3A6IGNsaWVudFkgfHwgMTAwLAogICAgICAgIGxlZnQ6IGNsaWVudFggfHwgMTAwLAogICAgICAgIHJvdGF0ZTogcm90YXRlIHx8IDAsCiAgICAgICAgZHJhZ19zdGFydF94OiAwLAogICAgICAgIC8v5ouW5ou955u45a+5CiAgICAgICAgZHJhZ19zdGFydF95OiAwLAogICAgICAgIGJvcmRlcldpZHRoOiBib3JkZXJXaWR0aCB8fCAwLAogICAgICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmQsCiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsCiAgICAgICAgaXNBcHBseVNoYWRvdzogJ3RydWUnLAogICAgICAgIGlzRml4ZWQ6ICJmYWxzZSIsCiAgICAgICAgYm9yZGVyUmFkaXVzOiBib3JkZXJSYWRpdXMgfHwgMAogICAgICB9OwogICAgICBpdGVtLnN0eWxlID0gX3N0eWxlOwogICAgICB0aGlzLmVkcmF3Q29tcG9uZW50cy5wdXNoKGl0ZW0pOwogICAgICB0aGlzLmVTdGF0ZXMuY3VycmVudEFjdGl2ZUluZGV4ID0gdGhpcy5lZHJhd0NvbXBvbmVudHMubGVuZ3RoIC0gMTsKICAgIH0sCiAgICBpbml0Q29tcG9uZW50U3RhdGU6IGZ1bmN0aW9uIGluaXRDb21wb25lbnRTdGF0ZShjdXJyZW50LCBldmVudCkgewogICAgICBpZiAoY3VycmVudCA9PT0gdW5kZWZpbmVkIHx8IGN1cnJlbnQgPT09IG51bGwgfHwgY3VycmVudCA9PT0gLTEpIHJldHVybjsKCiAgICAgIGlmIChldmVudCAmJiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5ICYmIHRoaXMuaXNNYWMoKSkgJiYgZXZlbnQuYnV0dG9uID09PSAwKSB7CiAgICAgICAgdGhpcy5lZHJhd0NvbXBvbmVudHNbY3VycmVudF0uaXNBY3RpdmUgPSBmYWxzZTsKCiAgICAgICAgaWYgKHRoaXMuZVN0YXRlcy5jdXJyZW50QWN0aXZlSW5kZXggPiAtMSkgewogICAgICAgICAgdGhpcy5lU3RhdGVzLmN1cnJlbnRBY3RpdmVJbmRleCA9IC0xOwogICAgICAgIH0gLy8g5aSa6YCJ5pON5L2c57yT5a2Y5pWw57uECgoKICAgICAgICB2YXIgX211bHRpcEFjdGl2ZUluZGV4ID0gdGhpcy5lU3RhdGVzLm11bHRpcGxlQWN0aXZlQXJyLmluZGV4T2YodGhpcy5lZHJhd0NvbXBvbmVudHNbY3VycmVudF0pOwoKICAgICAgICBpZiAoX211bHRpcEFjdGl2ZUluZGV4ID09PSAtMSkgewogICAgICAgICAgdGhpcy5lU3RhdGVzLm11bHRpcGxlQWN0aXZlQXJyLnB1c2godGhpcy5lZHJhd0NvbXBvbmVudHNbY3VycmVudF0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuZWRyYXdDb21wb25lbnRzW2N1cnJlbnRdLm11bHRpcGxlQWN0aXZlQm9vbCkgewogICAgICAgICAgdGhpcy5lZHJhd0NvbXBvbmVudHNbY3VycmVudF0ubXVsdGlwbGVBY3RpdmVCb29sID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnIuc3BsaWNlKF9tdWx0aXBBY3RpdmVJbmRleCwgMSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzW2N1cnJlbnRdLm11bHRpcGxlQWN0aXZlQm9vbCA9IHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW5pdENvbXBTdGF0ZSgpOwogICAgICAgIHRoaXMuZVN0YXRlcy5jdXJyZW50QWN0aXZlSW5kZXggPSBjdXJyZW50OwogICAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzW2N1cnJlbnRdLmlzQWN0aXZlID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIneWni+WMlueUu+W4g+WGhee7hOS7tueKtuaAgQogICAgaW5pdENvbXBTdGF0ZTogZnVuY3Rpb24gaW5pdENvbXBTdGF0ZSgpIHsKICAgICAgdmFyIGxlbiA9IHRoaXMuZWRyYXdDb21wb25lbnRzLmxlbmd0aDsKICAgICAgdGhpcy5lU3RhdGVzLm11bHRpcGxlQWN0aXZlQXJyID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgdGhpcy5lZHJhd0NvbXBvbmVudHNbaV0uaXNBY3RpdmUgPSBmYWxzZTsKICAgICAgICB0aGlzLmVkcmF3Q29tcG9uZW50c1tpXS5tdWx0aXBsZUFjdGl2ZUJvb2wgPSBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy5lU3RhdGVzLmNvcHlCeUtleUJvb2wgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDnu4Tku7bmi5bmi73vvJpjdHJsa2V5ID09PSB0cnVlIOWkhOeQhuWkmumAiQogICAgZHJhZ0N1cnJlbnRDb21wOiBmdW5jdGlvbiBkcmFnQ3VycmVudENvbXAoZXZlbnQsIGNvbXAsIHN0YXRlLCBjdXJyZW50SW5kZXgsIGNhbnZlc1JlY3QpIHsKICAgICAgaWYgKGV2ZW50ICYmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgJiYgdGhpcy5pc01hYygpKSkgewogICAgICAgIGNvbnNvbGUubG9nKCflpJrpgInlpITnkIYnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVTdGF0ZXMuY29weUJ5S2V5Qm9vbCA9IGZhbHNlOwoKICAgICAgICBpZiAoc3RhdGUgPT09ICdzdGFydCcpIHsKICAgICAgICAgIHRoaXMuZVN0YXRlcy5jdXJyZW50QWN0aXZlSW5kZXggPSBjdXJyZW50SW5kZXg7CiAgICAgICAgICBjb21wLnN0eWxlLmRyYWdfc3RhcnRfeCA9IGV2ZW50LmNsaWVudFggLSBjb21wLnN0eWxlLmxlZnQ7CiAgICAgICAgICBjb21wLnN0eWxlLmRyYWdfc3RhcnRfeSA9IGV2ZW50LmNsaWVudFkgLSBjb21wLnN0eWxlLnRvcDsKICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSAnZHJhZycpIHsKICAgICAgICAgIHZhciBfbGVmdCA9IGV2ZW50LmNsaWVudFggLSBjb21wLnN0eWxlLmRyYWdfc3RhcnRfeDsKCiAgICAgICAgICB2YXIgX3RvcCA9IGV2ZW50LmNsaWVudFkgLSBjb21wLnN0eWxlLmRyYWdfc3RhcnRfeTsKCiAgICAgICAgICBpZiAoX2xlZnQgPCAwIHx8IF90b3AgPCAwKSByZXR1cm47CiAgICAgICAgICB2YXIgbGVmdCA9IF9sZWZ0IC0gY2FudmVzUmVjdC54ID49IDAgPyBfbGVmdCA6IGNhbnZlc1JlY3QueDsgLy8g5aSE55CGbGVmdOe8lui+kemXrumimAoKICAgICAgICAgIHZhciB0b3AgPSBfdG9wIC0gY2FudmVzUmVjdC55ID49IDAgPyBfdG9wIDogY2FudmVzUmVjdC55OyAvLyDlpITnkIZ0b3DovrnnlYzpl67popgKCiAgICAgICAgICBjb21wLnN0eWxlLmxlZnQgPSBsZWZ0OwogICAgICAgICAgY29tcC5zdHlsZS50b3AgPSB0b3A7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzaXplQnlEcmFnQ29tcDogZnVuY3Rpb24gcmVzaXplQnlEcmFnQ29tcChldmVudCwgY29tcCwgc3RhdGUsIGFycm93LCBjdXJyZW50SW5kZXgpIHsKICAgICAgaWYgKGV2ZW50ICYmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgJiYgdGhpcy5pc01hYygpKSkgewogICAgICAgIGNvbnNvbGUubG9nKCflpJrpgInlpITnkIYnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVTdGF0ZXMuY29weUJ5S2V5Qm9vbCA9IGZhbHNlOwoKICAgICAgICBpZiAoc3RhdGUgPT09ICdzdGFydCcpIHsKICAgICAgICAgIHRoaXMuZVN0YXRlcy5jdXJyZW50QWN0aXZlSW5kZXggPSBjdXJyZW50SW5kZXg7CiAgICAgICAgICBjb21wLnN0eWxlLmRyYWdfc3RhcnRfeCA9IGFycm93ID09PSAncicgPyBjb21wLnN0eWxlLmxlZnQgOiBhcnJvdyA9PT0gJ2wnID8gY29tcC5zdHlsZS5sZWZ0ICsgY29tcC5zdHlsZS53aWR0aCA6IDEwOwogICAgICAgICAgY29tcC5zdHlsZS5kcmFnX3N0YXJ0X3kgPSBhcnJvdyA9PT0gJ2InID8gY29tcC5zdHlsZS50b3AgOiBhcnJvdyA9PT0gJ3QnID8gY29tcC5zdHlsZS50b3AgKyBjb21wLnN0eWxlLmhlaWdodCA6IDEwOwogICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09ICdkcmFnJykgewogICAgICAgICAgdmFyIF93aWR0aCA9IDA7CiAgICAgICAgICB2YXIgX3RvcCA9IDA7CiAgICAgICAgICB2YXIgX2hlaWdodCA9IDA7CgogICAgICAgICAgc3dpdGNoIChhcnJvdykgewogICAgICAgICAgICBjYXNlICdyJzoKICAgICAgICAgICAgICBfd2lkdGggPSBldmVudC5jbGllbnRYIC0gY29tcC5zdHlsZS5kcmFnX3N0YXJ0X3g7CiAgICAgICAgICAgICAgY29tcC5zdHlsZS53aWR0aCA9IF93aWR0aCA+PSAxMCA/IF93aWR0aCA6IDEwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAnbCc6CiAgICAgICAgICAgICAgY29tcC5zdHlsZS5sZWZ0ID0gZXZlbnQuY2xpZW50WDsKICAgICAgICAgICAgICBfd2lkdGggPSBjb21wLnN0eWxlLmRyYWdfc3RhcnRfeCAtIGV2ZW50LmNsaWVudFg7CiAgICAgICAgICAgICAgY29tcC5zdHlsZS53aWR0aCA9IF93aWR0aCA+PSAxMCA/IF93aWR0aCA6IDEwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAndCc6CiAgICAgICAgICAgICAgY29tcC5zdHlsZS50b3AgPSBldmVudC5jbGllbnRZOwogICAgICAgICAgICAgIF9oZWlnaHQgPSBjb21wLnN0eWxlLmRyYWdfc3RhcnRfeSAtIGV2ZW50LmNsaWVudFk7CiAgICAgICAgICAgICAgY29tcC5zdHlsZS5oZWlnaHQgPSBfaGVpZ2h0ID49IDEwID8gX2hlaWdodCA6IDEwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAnYic6CiAgICAgICAgICAgICAgX3RvcCA9IGV2ZW50LmNsaWVudFkgLSBjb21wLnN0eWxlLmRyYWdfc3RhcnRfeTsKICAgICAgICAgICAgICBjb21wLnN0eWxlLmhlaWdodCA9IF90b3AgPj0gMTAgPyBfdG9wIDogMTA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX3dpZHRoMiA9IDA7CiAgICAgICAgICB2YXIgX3RvcDIgPSAwOwogICAgICAgICAgdmFyIF9oZWlnaHQyID0gMDsKCiAgICAgICAgICBzd2l0Y2ggKGFycm93KSB7CiAgICAgICAgICAgIGNhc2UgJ3InOgogICAgICAgICAgICAgIF93aWR0aDIgPSBldmVudC5jbGllbnRYIC0gY29tcC5zdHlsZS5kcmFnX3N0YXJ0X3g7CiAgICAgICAgICAgICAgY29tcC5zdHlsZS53aWR0aCA9IF93aWR0aDIgPiAxMCA/IF93aWR0aDIgOiAxMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgJ2wnOgogICAgICAgICAgICAgIGNvbXAuc3R5bGUubGVmdCA9IGV2ZW50LmNsaWVudFg7CiAgICAgICAgICAgICAgX3dpZHRoMiA9IGNvbXAuc3R5bGUuZHJhZ19zdGFydF94IC0gZXZlbnQuY2xpZW50WDsKICAgICAgICAgICAgICBjb21wLnN0eWxlLndpZHRoID0gX3dpZHRoMiA+PSAxMCA/IF93aWR0aDIgOiAxMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgIGNvbXAuc3R5bGUudG9wID0gZXZlbnQuY2xpZW50WTsKICAgICAgICAgICAgICBfaGVpZ2h0MiA9IGNvbXAuc3R5bGUuZHJhZ19zdGFydF95IC0gZXZlbnQuY2xpZW50WTsKICAgICAgICAgICAgICBjb21wLnN0eWxlLmhlaWdodCA9IF9oZWlnaHQyID49IDEwID8gX2hlaWdodDIgOiAxMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgJ2InOgogICAgICAgICAgICAgIF90b3AyID0gZXZlbnQuY2xpZW50WSAtIGNvbXAuc3R5bGUuZHJhZ19zdGFydF95OwogICAgICAgICAgICAgIGNvbXAuc3R5bGUuaGVpZ2h0ID0gX3RvcDIgPj0gMTAgPyBfdG9wMiA6IDEwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB0cmFuc0NvbXA6IGZ1bmN0aW9uIHRyYW5zQ29tcChldmVudCwgY29tcCkgewogICAgICB2YXIgX3ggPSBldmVudC5jbGllbnRYIC0gY29tcC5zdHlsZS5sZWZ0IC0gY29tcC5zdHlsZS53aWR0aCAvIDI7CgogICAgICB2YXIgX3kgPSBldmVudC5jbGllbnRZIC0gY29tcC5zdHlsZS50b3AgLSBjb21wLnN0eWxlLmhlaWdodCAvIDI7CgogICAgICBjb21wLnN0eWxlLnJvdGF0ZSA9IHRoaXMuY2FsY0FuZ2xlRGVncmVlcyhfeCwgX3kpOwogICAgfSwKICAgIC8vIOe7hOS7tuWIoOmZpAogICAgZGVsQ29tcDogZnVuY3Rpb24gZGVsQ29tcChpbmRleCwgc3RhdGUpIHsKICAgICAgaWYgKHN0YXRlID09PSAnbXVsdGlwbGVEZWwnKSB7CiAgICAgICAgdmFyIGxlbiA9IHRoaXMuZWRyYXdDb21wb25lbnRzLmxlbmd0aDsKICAgICAgICB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnIgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IGxlbjsgaS0tOyBpID4gMCkgewogICAgICAgICAgdmFyIG11bHRpcEJvb2wgPSB0aGlzLmVkcmF3Q29tcG9uZW50c1tpXS5tdWx0aXBsZUFjdGl2ZUJvb2w7CgogICAgICAgICAgaWYgKG11bHRpcEJvb2wpIHsKICAgICAgICAgICAgdGhpcy5lZHJhd0NvbXBvbmVudHMuc3BsaWNlKGksIDEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5lU3RhdGVzLmN1cnJlbnRBY3RpdmVJbmRleCA+IC0xICYmIHRoaXMuZWRyYXdDb21wb25lbnRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzLnNwbGljZSh0aGlzLmVTdGF0ZXMuY3VycmVudEFjdGl2ZUluZGV4LCAxKTsKICAgICAgICAgIHRoaXMuZVN0YXRlcy5jdXJyZW50QWN0aXZlSW5kZXggPSAtMTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDplK7nm5jkuovku7YKICAgIGtheWRvd25GdW46IGZ1bmN0aW9uIGtheWRvd25GdW4oZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ2MnKSB7CiAgICAgICAgdGhpcy5lU3RhdGVzLmNvcHlCeUtleUJvb2wgPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuZVN0YXRlcy5jb3B5QnlLZXlCb29sICYmIGV2ZW50LmtleSA9PT0gJ3YnKSB7CiAgICAgICAgdGhpcy5jb3B5Q3VycmVudENvbXAoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoWydBcnJvd1VwJywgJ0Fycm93RG93bicsICdBcnJvd0xlZnQnLCAiQXJyb3dSaWdodCJdLmluZGV4T2YoZXZlbnRbJ2NvZGUnXSkgPiAtMSkgewogICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgICAgICBpZiAodGhpcy5lU3RhdGVzLmN1cnJlbnRBY3RpdmVJbmRleCA+IC0xICYmIHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFyci5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgdGhpcy5hcnJvd0l0ZW0oZXZlbnRbJ2NvZGUnXSwgdGhpcy5lZHJhd0NvbXBvbmVudHNbdGhpcy5lU3RhdGVzLmN1cnJlbnRBY3RpdmVJbmRleF0pOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnIubGVuZ3RoID4gMCkgewogICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5lU3RhdGVzLm11bHRpcGxlQWN0aXZlQXJyLmxlbmd0aDsKCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICAgICB0aGlzLmFycm93SXRlbShldmVudFsnY29kZSddLCB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnJbaV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoZXZlbnQua2V5ID09PSAnRGVsZXRlJyB8fCB0aGlzLmlzTWFjKCkgJiYgZXZlbnQua2V5ID09PSAnQmFja3NwYWNlJykgewogICAgICAgIHRoaXMuZGVsQ29tcCgpOwogICAgICB9CiAgICB9LAogICAgYXJyb3dJdGVtOiBmdW5jdGlvbiBhcnJvd0l0ZW0oYXJyb3csIG9iaikgewogICAgICBpZiAoYXJyb3cgJiYgb2JqKSB7CiAgICAgICAgc3dpdGNoIChhcnJvdykgewogICAgICAgICAgY2FzZSAnQXJyb3dVcCc6CiAgICAgICAgICAgIG9iai5zdHlsZS50b3AgPSBvYmouc3R5bGUudG9wIC0gMSA+IDAgPyBvYmouc3R5bGUudG9wIC0gMSA6IDA7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0Fycm93RG93bic6CiAgICAgICAgICAgIG9iai5zdHlsZS50b3AgPSBvYmouc3R5bGUudG9wICsgMTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzoKICAgICAgICAgICAgb2JqLnN0eWxlLmxlZnQgPSBvYmouc3R5bGUubGVmdCAtIDEgPiAwID8gb2JqLnN0eWxlLmxlZnQgLSAxIDogMDsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6CiAgICAgICAgICAgIG9iai5zdHlsZS5sZWZ0ID0gb2JqLnN0eWxlLmxlZnQgKyAxOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDlpJrpgInkuovku7YKICAgIG1vdXNlZG93bkZ1bjogZnVuY3Rpb24gbW91c2Vkb3duRnVuKGV2ZW50KSB7CiAgICAgIGlmICgoIWV2ZW50LmN0cmxLZXkgfHwgIWV2ZW50Lm1ldGFLZXkgJiYgdGhpcy5pc01hYygpKSAmJiBldmVudC5idXR0b24gPT09IDAgJiYgZXZlbnQudGFyZ2V0LmlkID09PSAnY2FudmFzJyAmJiAhZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY29tcC1lbGVtZW50JykpIHsKICAgICAgICB0aGlzLmVTdGF0ZXMuY29weUJ5S2V5Qm9vbCA9IGZhbHNlOwogICAgICAgIHRoaXMuaW5pdENvbXBTdGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgLy8g5Yib5bu65b2T5YmN57uE5Lu2CiAgICBjb3B5Q3VycmVudENvbXA6IGZ1bmN0aW9uIGNvcHlDdXJyZW50Q29tcCgpIHsKICAgICAgdmFyIF9jdXJyQ29tcCA9IHRoaXMuZWRyYXdDb21wb25lbnRzW3RoaXMuZVN0YXRlcy5jdXJyZW50QWN0aXZlSW5kZXhdOwogICAgICBpZiAoIV9jdXJyQ29tcCkgcmV0dXJuOwogICAgICBfY3VyckNvbXAuaXNBY3RpdmUgPSBmYWxzZTsKCiAgICAgIHZhciBfY29weSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX2N1cnJDb21wKSk7CgogICAgICB2YXIgX3N0eWxlID0gX2N1cnJDb21wLnN0eWxlOwoKICAgICAgdmFyIF9oID0gdGhpcy5jb25maWdzLklzb21ldHJpY19jb2x1ID4gMSA/IHRoaXMuY29uZmlncy5Jc29tZXRyaWNfY29sdSA6IDE7CgogICAgICBfY29weS5zdHlsZS50b3AgPSBfc3R5bGUuaGVpZ2h0ICsgX3N0eWxlLnRvcCArIF9oOwogICAgICBfY29weS5pc0FjdGl2ZSA9IHRydWU7CiAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzLnB1c2goX2NvcHkpOwogICAgICB0aGlzLmVTdGF0ZXMuY3VycmVudEFjdGl2ZUluZGV4ID0gdGhpcy5lZHJhd0NvbXBvbmVudHMubGVuZ3RoIC0gMTsgLy/mm7TmlrDmv4DmtLvnu4Tku7bnmoTkuIvmoIcKICAgIH0sCiAgICAvLyDlpJrpgInmk43kvZw65Y+N6YCJL+a4heepuuWkmumAiS/lsZ7mgKflupTnlKgKICAgIHNldE11bHRpcGxlU3RhdGU6IGZ1bmN0aW9uIHNldE11bHRpcGxlU3RhdGUoc3RhdGUsIHZhbHVlKSB7CiAgICAgIGlmIChzdGF0ZSA9PT0gJ0lzb21ldHJpYycpIHsKICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5lU3RhdGVzLm11bHRpcGxlQWN0aXZlQXJyLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICB2YXIgb2JqID0gdGhpcy5lU3RhdGVzLm11bHRpcGxlQWN0aXZlQXJyW2ldOwogICAgICAgICAgdmFyIGJvb2wgPSBvYmpbJ211bHRpcGxlQWN0aXZlQm9vbCddOwoKICAgICAgICAgIGlmICghYm9vbCkgewogICAgICAgICAgICB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnIuc3BsaWNlKGksIDEpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIGxlbiA9IHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFyci5sZW5ndGg7CiAgICAgICAgdmFyIHZhbCA9IDA7CgogICAgICAgIGlmICh2YWx1ZSA9PT0gJ3JvdycpIHsKICAgICAgICAgIHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFyciA9IHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFyci5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgIHJldHVybiBhLnN0eWxlLmxlZnQgLSBiLnN0eWxlLmxlZnQ7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGVuOyBfaSsrKSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5lU3RhdGVzLm11bHRpcGxlQWN0aXZlQXJyW19pXTsKCiAgICAgICAgICAgIGlmIChfaSA+IDApIHsKICAgICAgICAgICAgICBpdGVtLnN0eWxlLmxlZnQgPSB2YWw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhbCA9IGl0ZW0uc3R5bGUubGVmdCArIGl0ZW0uc3R5bGUud2lkdGggKyBwYXJzZUludCh0aGlzLmNvbmZpZ3MuSXNvbWV0cmljX3Jvdyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFyciA9IHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFyci5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgIHJldHVybiBhLnN0eWxlLnRvcCAtIGIuc3R5bGUudG9wOwogICAgICAgICAgfSk7CgogICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbGVuOyBfaTIrKykgewogICAgICAgICAgICB2YXIgX2l0ZW0gPSB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnJbX2kyXTsKCiAgICAgICAgICAgIGlmIChfaTIgPiAwKSB7CiAgICAgICAgICAgICAgX2l0ZW0uc3R5bGUudG9wID0gdmFsOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YWwgPSBfaXRlbS5zdHlsZS5oZWlnaHQgKyBfaXRlbS5zdHlsZS50b3AgKyBwYXJzZUludCh0aGlzLmNvbmZpZ3MuSXNvbWV0cmljX2NvbHUpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhfaTIsIHRoaXMuY29uZmlncy5Jc29tZXRyaWNfY29sdSwgdmFsKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09ICdyZVNlbCcpIHsKICAgICAgICB2YXIgX2xlbiA9IHRoaXMuZWRyYXdDb21wb25lbnRzLmxlbmd0aDsKICAgICAgICB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnIgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgX2kzID0gX2xlbjsgX2kzLS07IF9pMyA+IDApIHsKICAgICAgICAgIHZhciBfaXRlbTIgPSB0aGlzLmVkcmF3Q29tcG9uZW50c1tfaTNdOwoKICAgICAgICAgIGlmICghX2l0ZW0yLm11bHRpcGxlQWN0aXZlQm9vbCkgewogICAgICAgICAgICB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnIucHVzaChfaXRlbTIpOwogICAgICAgICAgfQoKICAgICAgICAgIF9pdGVtMi5tdWx0aXBsZUFjdGl2ZUJvb2wgPSAhX2l0ZW0yLm11bHRpcGxlQWN0aXZlQm9vbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09ICdjbGVhcicpIHsKICAgICAgICB2YXIgX2xlbjIgPSB0aGlzLmVkcmF3Q29tcG9uZW50cy5sZW5ndGg7CiAgICAgICAgdGhpcy5lU3RhdGVzLm11bHRpcGxlQWN0aXZlQXJyID0gW107CgogICAgICAgIGZvciAodmFyIF9pNCA9IF9sZW4yOyBfaTQtLTsgX2k0ID4gMCkgewogICAgICAgICAgdGhpcy5lZHJhd0NvbXBvbmVudHNbX2k0XS5tdWx0aXBsZUFjdGl2ZUJvb2wgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoWydpc0FwcGx5U2hhZG93JywgJ2JvcmRlclJhZGl1cyddLmluZGV4T2Yoc3RhdGUpID4gLTEpIHsKICAgICAgICB2YXIgX2xlbjMgPSB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnIubGVuZ3RoOwoKICAgICAgICBmb3IgKHZhciBfaTUgPSBfbGVuMzsgX2k1LS07IF9pNSA+IDApIHsKICAgICAgICAgIHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFycltfaTVdLnN0eWxlW3N0YXRlXSA9IHZhbHVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gJ2FsaWduJykgewogICAgICAgIHN3aXRjaCAodmFsdWUpIHsKICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICB0aGlzLm11bHRpcEFycmF5KCd0b3AnKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnbCc6CiAgICAgICAgICAgIHRoaXMubXVsdGlwQXJyYXkoJ2xlZnQnKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnYic6CiAgICAgICAgICAgIHRoaXMubXVsdGlwQXJyYXkoJ2JvdHRvbScpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdyJzoKICAgICAgICAgICAgdGhpcy5tdWx0aXBBcnJheSgncmlnaHQnKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g5Yig6Zmk5aSa6YCJ5YWD57SgCiAgICBkZWxNdWx0aXBDb21wOiBmdW5jdGlvbiBkZWxNdWx0aXBDb21wKGNvbXAsIGluZGV4KSB7CiAgICAgIHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFyci5zcGxpY2UoaW5kZXgsIDEpOwoKICAgICAgdmFyIF9pbmRleCA9IHRoaXMuZWRyYXdDb21wb25lbnRzLmluZGV4T2YoY29tcCk7CgogICAgICBpZiAoX2luZGV4ID4gLTEpIHsKICAgICAgICB0aGlzLmVkcmF3Q29tcG9uZW50c1tfaW5kZXhdLm11bHRpcGxlQWN0aXZlQm9vbCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlQ29uZmlnOiBmdW5jdGlvbiBjaGFuZ2VDb25maWcoc3RhdGUsIHZhbHVlKSB7CiAgICAgIGlmICghdGhpcy5jb25maWdzW3N0YXRlXSkgcmV0dXJuOwogICAgICB0aGlzLmNvbmZpZ3Nbc3RhdGVdID0gdmFsdWU7CiAgICAgIGNvbnNvbGUubG9nKHN0YXRlLCB2YWx1ZSk7CiAgICB9LAogICAgbXVsdGlwQXJyYXk6IGZ1bmN0aW9uIG11bHRpcEFycmF5KHBhcmFtKSB7CiAgICAgIHZhciBsaXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnIpKTsKICAgICAgbGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIFsndG9wJywgJ2xlZnQnXS5pbmRleE9mKHBhcmFtKSA+IC0xID8gYS5zdHlsZVtwYXJhbV0gLSBiLnN0eWxlW3BhcmFtXSA6IHBhcmFtID09PSAnYm90dG9tJyA/IGIuc3R5bGUudG9wICsgYi5zdHlsZS5oZWlnaHQgLSAoYS5zdHlsZS50b3AgKyBhLnN0eWxlLmhlaWdodCkgOiBiLnN0eWxlLmxlZnQgKyBiLnN0eWxlLndpZHRoIC0gKGEuc3R5bGUubGVmdCArIGEuc3R5bGUud2lkdGgpOwogICAgICB9KTsKICAgICAgdmFyIGxlbiA9IHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFyci5sZW5ndGg7CiAgICAgIHZhciByZXNPYmogPSBsaXN0WzBdOwoKICAgICAgaWYgKFsndG9wJywgJ2xlZnQnXS5pbmRleE9mKHBhcmFtKSA+IC0xKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgdGhpcy5lU3RhdGVzLm11bHRpcGxlQWN0aXZlQXJyW2ldLnN0eWxlW3BhcmFtXSA9IHJlc09iai5zdHlsZVtwYXJhbV07CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBhcmFtID09PSAnYm90dG9tJykgewogICAgICAgIHZhciBfYm90dG9tID0gcmVzT2JqLnN0eWxlLnRvcCArIHJlc09iai5zdHlsZS5oZWlnaHQ7CgogICAgICAgIGZvciAodmFyIF9pNiA9IDA7IF9pNiA8IGxlbjsgX2k2KyspIHsKICAgICAgICAgIHRoaXMuZVN0YXRlcy5tdWx0aXBsZUFjdGl2ZUFycltfaTZdLnN0eWxlLnRvcCA9IF9ib3R0b20gLSB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnJbX2k2XS5zdHlsZS5oZWlnaHQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBhcmFtID09PSAncmlnaHQnKSB7CiAgICAgICAgdmFyIF9yaWdodCA9IHJlc09iai5zdHlsZS5sZWZ0ICsgcmVzT2JqLnN0eWxlLndpZHRoOwoKICAgICAgICBmb3IgKHZhciBfaTcgPSAwOyBfaTcgPCBsZW47IF9pNysrKSB7CiAgICAgICAgICB0aGlzLmVTdGF0ZXMubXVsdGlwbGVBY3RpdmVBcnJbX2k3XS5zdHlsZS5sZWZ0ID0gX3JpZ2h0IC0gdGhpcy5lU3RhdGVzLm11bHRpcGxlQWN0aXZlQXJyW19pN10uc3R5bGUud2lkdGg7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgaXNNYWM6IGZ1bmN0aW9uIGlzTWFjKCkgewogICAgICByZXR1cm4gL21hY2ludG9zaHxtYWMgb3MgeC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7CiAgICB9LAogICAgY2FsY0FuZ2xlRGVncmVlczogZnVuY3Rpb24gY2FsY0FuZ2xlRGVncmVlcyh4LCB5KSB7CiAgICAgIHZhciB2YWwgPSBNYXRoLmF0YW4yKHksIHgpICogMTgwIC8gTWF0aC5QSTsKICAgICAgcmV0dXJuIE1hdGguY2VpbCh2YWwpOwogICAgfSwKICAgIHNjcmVlbjogZnVuY3Rpb24gc2NyZWVuKCkgewogICAgICB0aGlzLmNvbmZpZ3MuYmdBbGxCb29sID0gIXRoaXMuY29uZmlncy5iZ0FsbEJvb2w7CgogICAgICBpZiAodGhpcy5jb25maWdzLmJnQWxsQm9vbCkgewogICAgICAgIHRoaXMuY29uZmlncy53aW5kb3dfdyA9IHdpbmRvdy5zY3JlZW4ud2lkdGggPiAxNTAwID8gd2luZG93LnNjcmVlbi53aWR0aCA6IDE1MDA7CiAgICAgICAgdGhpcy5jb25maWdzLndpbmRvd19oID0gd2luZG93LnNjcmVlbi5oZWlnaHQgPiA4MDAgPyB3aW5kb3cuc2NyZWVuLmhlaWdodCA6IDgwMDsKICAgICAgICB0aGlzLmNvbmZpZ3Muc2NhbGUgPSAxOwogICAgICB9CiAgICB9LAogICAgaW5pdFN0b3JhZ2VEYXRhOiBmdW5jdGlvbiBpbml0U3RvcmFnZURhdGEoY2xlYXJCb29sKSB7CiAgICAgIGlmICghY2xlYXJCb29sICYmIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYm1fZGF0YXMnKSkgcmV0dXJuOwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHNhdmVfZGF0YV9hdXRvOiBbXSwKICAgICAgICBzYXZlX2RhdGFfY3VzdG9tOiBbXQogICAgICB9OwogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2JtX2RhdGFzJywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7CiAgICB9LAogICAgc2F2ZURhdGVUb1N0b3JhZ2U6IGZ1bmN0aW9uIHNhdmVEYXRlVG9TdG9yYWdlKGRhdGEsIHN0YXRlKSB7CiAgICAgIHZhciBzYXZlRGF0YSA9IGRhdGEgfHwgdGhpcy5lZHJhd0NvbXBvbmVudHM7IC8v5a2Y5YKo5LyY5YyW77yM5rKh5pyJ5YaF5a6555qE6aG16Z2i5LiN6ZyA6KaB5a2Y5YKoCgogICAgICBpZiAoIXNhdmVEYXRhIHx8IEFycmF5LmlzQXJyYXkoc2F2ZURhdGEpICYmIHNhdmVEYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIG9iaiA9IHsKICAgICAgICBkYXRhOiBzYXZlRGF0YSwKICAgICAgICB0eXBlOiBzdGF0ZSB8fCAnYXV0bycsCiAgICAgICAgdXBkYXRlVGltZTogbmV3IERhdGUoKQogICAgICB9OwoKICAgICAgaWYgKCF3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JtX2RhdGFzJykpIHsKICAgICAgICB0aGlzLmluaXRTdG9yYWdlRGF0YSgpOwogICAgICB9CgogICAgICB2YXIgcGFyYW1zID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdibV9kYXRhcycpOwoKICAgICAgaWYgKHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSAnc3RyaW5nJykgewogICAgICAgIHBhcmFtcyA9IEpTT04ucGFyc2UocGFyYW1zKTsKICAgICAgfQoKICAgICAgaWYgKHN0YXRlID09PSAnY3VzdG9tJykgewogICAgICAgIHBhcmFtcy5zYXZlX2RhdGFfY3VzdG9tLnVuc2hpZnQob2JqKTsKCiAgICAgICAgaWYgKHBhcmFtcy5zYXZlX2RhdGFfY3VzdG9tLmxlbmd0aCA+IDUwKSB7CiAgICAgICAgICBwYXJhbXMuc2F2ZV9kYXRhX2N1c3RvbSA9IHBhcmFtcy5zYXZlX2RhdGFfY3VzdG9tLnNsaWNlKDAsIDUwKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGFyYW1zLnNhdmVfZGF0YV9hdXRvLnVuc2hpZnQob2JqKTsKCiAgICAgICAgaWYgKHBhcmFtcy5zYXZlX2RhdGFfYXV0by5sZW5ndGggPiA1MCkgewogICAgICAgICAgcGFyYW1zLnNhdmVfZGF0YV9hdXRvID0gcGFyYW1zLnNhdmVfZGF0YV9hdXRvLnNsaWNlKDAsIDUwKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYm1fZGF0YXMnLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTsKICAgIH0sCiAgICBnZXRTdG9yYWdlRGF0YTogZnVuY3Rpb24gZ2V0U3RvcmFnZURhdGEoKSB7CiAgICAgIHRoaXMuYWN0aXZlSGlzdG9yeUJvb2wgPSAhdGhpcy5hY3RpdmVIaXN0b3J5Qm9vbDsKICAgICAgdGhpcy5jdXJyZW50SGlzdG9yeUluZGV4ID0gLTE7CiAgICAgIHZhciBwYXJhbXMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JtX2RhdGFzJyk7CgogICAgICBpZiAocGFyYW1zICYmIHR5cGVvZiBwYXJhbXMgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgcGFyYW1zID0gSlNPTi5wYXJzZShwYXJhbXMpOwogICAgICB9CgogICAgICB0aGlzLmhpc3RvcnlDdXJybmV0RGF0YSA9IFtdLmNvbmNhdChwYXJhbXMuc2F2ZV9kYXRhX2N1c3RvbSwgcGFyYW1zLnNhdmVfZGF0YV9hdXRvKTsKICAgIH0sCiAgICBjaGFuZ2VCZ0ltZzogZnVuY3Rpb24gY2hhbmdlQmdJbWcodXJsKSB7CiAgICAgIHRoaXMuY29uZmlncy5iYWNrZ3JvdW5kVXJsID0gdXJsOwogICAgfSwKICAgIGNsZWFyU3RvcmFnZURhdGE6IGZ1bmN0aW9uIGNsZWFyU3RvcmFnZURhdGEoKSB7CiAgICAgIHRoaXMuaW5pdFN0b3JhZ2VEYXRhKHRydWUpOwogICAgfSwKICAgIGluaXRIaXN0b3J5TGlzdFN0YXRlOiBmdW5jdGlvbiBpbml0SGlzdG9yeUxpc3RTdGF0ZShpbmRleCkgewogICAgICB0aGlzLmN1cnJlbnRIaXN0b3J5SW5kZXggPSBpbmRleCA+IC0xID8gaW5kZXggOiAtMTsKCiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuaGlzdG9yeUN1cnJuZXREYXRhKSkgewogICAgICAgIHZhciBsZW4gPSB0aGlzLmhpc3RvcnlDdXJybmV0RGF0YS5sZW5ndGg7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgIHRoaXMuaGlzdG9yeUN1cnJuZXREYXRhW2ldLmlzQWN0aXZlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXBwbHlIaXN0b3J5OiBmdW5jdGlvbiBhcHBseUhpc3RvcnkobGlzdCkgewogICAgICB0aGlzLnNhdmVEYXRlVG9TdG9yYWdlKCk7CiAgICAgIHRoaXMuZWRyYXdDb21wb25lbnRzID0gbGlzdDsKICAgICAgdGhpcy5pbml0Q29tcFN0YXRlKCk7CiAgICAgIHRoaXMuY2xvc2VIaXN0b3J5KCk7CiAgICB9LAogICAgY2xvc2VIaXN0b3J5OiBmdW5jdGlvbiBjbG9zZUhpc3RvcnkoKSB7CiAgICAgIHRoaXMuYWN0aXZlSGlzdG9yeUJvb2wgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["editor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"editor\">\n    <!-- 组件库 -->\n    <editor-comps \n      v-bind:elements=\"edrawComponents\"\n      v-on:initCompsState=\"initComponentState\" \n      v-on:selectComp=\"selectComp\"></editor-comps>\n    \n    <!-- 画布 -->\n    <editor-canvas \n\n      v-bind:configs=\"configs\"\n      v-bind:edrawComps=\"edrawComponents\"\n      v-bind:currentActiveIndex=\"eStates.currentActiveIndex\"\n      v-bind:multipleActiveBool=\"eStates.multipleActiveBool\"\n      v-on:initCompsState=\"initComponentState\" \n      v-on:dragComp=\"dragCurrentComp\"\n      v-on:resizeByDragComp=\"resizeByDragComp\"\n      v-on:trans=\"transComp\"\n      v-on:screen=\"screen\"></editor-canvas>\n\n    <!-- 组件设置 -->\n    <editor-settings\n      v-bind:currentActiveIndex=\"eStates.currentActiveIndex\"\n      v-bind:currentElement=\"edrawComponents[eStates.currentActiveIndex]\"\n      v-bind:multipleActiveArr=\"eStates.multipleActiveArr\"\n      v-bind:configs=\"configs\"\n      v-on:delComp=\"delComp\"\n      v-on:delMultipComp=\"delMultipComp\"\n      v-on:setMultipleState=\"setMultipleState\"\n      v-on:changeConfig=\"changeConfig\"\n      v-on:download=\"download\"\n      v-on:screen=\"screen\"\n      v-on:saveDateToStorage=\"saveDateToStorage\"\n      v-on:getHistory=\"getStorageData\"\n      v-on:changeBgImg=\"changeBgImg\"></editor-settings>\n    \n    <editor-history\n      v-if=\"activeHistoryBool\"\n      v-bind:list=\"historyCurrnetData\"\n      v-bind:currentIndex=\"currentHistoryIndex\"\n      v-on:initState=\"initHistoryListState\"\n      v-on:applyHistory=\"applyHistory\"\n      v-on:closeHistory=\"closeHistory\"></editor-history>\n    <!-- 帮助 -->\n    <editor-help/>\n  </div>\n</template>\n\n<script>\nimport EditorComps from './editor-comps';\nimport EditorCanvas from './editor-canvas';\nimport EditorSettings from './editor-settings';\nimport EditorHelp from './editor-help';\nimport EditorHistory from './editor-history';\n\nexport default {\n  name: 'Editor',\n  created:function() {\n    this.initStorageData();\n    this.initBindingEvent();\n  },\n  data(){\n     return {\n        eStates:{\n          currentActiveIndex:-1,\n          copyByKeyBool:false,\n          multipleActiveArr:[],\n        },\n        edrawComponents:[],\n        configs:{\n          bg:\"grid\",\n          pageName:'底图',\n          spacing:10,\n          scale:1,\n          Isometric_row:10,\n          Isometric_colu:10,\n          dowloadImgType:'png',\n          bgAllBool:false,\n          window_w:1920,\n          window_h:900,\n          backgroundUrl:\"\"\n        },\n        historyCurrnetData:[],\n        currentHistoryIndex:-1,\n        activeHistoryBool:false\n     }\n  },\n  components: {\n    'editor-comps':EditorComps,\n    'editor-canvas':EditorCanvas,\n    'editor-settings':EditorSettings,\n    'editor-help':EditorHelp,\n    'editor-history':EditorHistory\n  },\n  methods: {\n    initData() {\n      this.activeHistoryBool = false;\n    },\n    initBindingEvent() {\n      document.addEventListener('keydown', this.kaydownFun, false);\n      document.addEventListener('mousedown', this.mousedownFun);\n      window.addEventListener('beforeunload', this.leaving);\n    },\n    leaving(event) {\n      this.saveDateToStorage();\n      console.log(event.returnValue)\n      // let message = \"内容更改，注意截图缓存\"; \n      // event.returnValue = message;\n      // return message;\n    },\n    download:function() {\n      //TODO:页面下载\n    },\n    saveAs:function(img) {\n      let _dom = window.document.createElement('a');\n        _dom.href = img\n        _dom.dataset.downloadurl = ['image/png', 'IMG_DOWNLOAD_NAME', _dom.href].join(':');\n        document.body.appendChild(_dom);\n        _dom.click();\n        document.body.removeChild(_dom);\n    },\n    // 组件选择\n    selectComp(event, comp) {\n      let item = JSON.parse(JSON.stringify(comp));\n      if(!item) return;\n      this.initCompState();\n      item.isActive = true;\n      item.multipleActiveBool=false;\n      let {width, height, borderRadius, rotate, borderWidth, background} = item.defStyle;\n      let {clientX , clientY} = event;\n      let _style = {\n          width:width || 100,\n          height:height || 100,\n          top: clientY || 100,\n          left:clientX || 100,\n          rotate: rotate || 0,\n          drag_start_x: 0, //拖拽相对\n          drag_start_y :0,\n          borderWidth:borderWidth || 0,\n          background:background,\n          position:'absolute',\n          isApplyShadow:'true',\n          isFixed:\"false\",\n          borderRadius:borderRadius || 0\n      }\n      item.style = _style;\n      this.edrawComponents.push(item);\n      this.eStates.currentActiveIndex = this.edrawComponents.length -1;\n    },\n    initComponentState(current, event) {\n      if(current === undefined || current === null || current === -1) return;\n      if(event && (event.ctrlKey || event.metaKey && this.isMac()) && event.button === 0 ) {\n        this.edrawComponents[current].isActive = false;\n        if(this.eStates.currentActiveIndex > -1) {\n          this.eStates.currentActiveIndex = -1;\n        }\n\n        // 多选操作缓存数组\n        const _multipActiveIndex = this.eStates.multipleActiveArr.indexOf(this.edrawComponents[current]);\n        if( _multipActiveIndex === -1) {\n          this.eStates.multipleActiveArr.push(this.edrawComponents[current])\n        }\n\n        if(this.edrawComponents[current].multipleActiveBool) {\n          this.edrawComponents[current].multipleActiveBool = false;\n          this.eStates.multipleActiveArr.splice(_multipActiveIndex, 1);\n        } else {\n          this.edrawComponents[current].multipleActiveBool = true;\n        }\n      }else {\n        this.initCompState();     \n        this.eStates.currentActiveIndex = current;\n        this.edrawComponents[current].isActive = true;\n      }\n\n    },\n    // 初始化画布内组件状态\n    initCompState() {\n      let len = this.edrawComponents.length;\n      this.eStates.multipleActiveArr = [];\n      for(let i=0;i<len;i++) {\n        this.edrawComponents[i].isActive = false;\n        this.edrawComponents[i].multipleActiveBool = false;\n      }\n      this.eStates.copyByKeyBool = false;\n    },\n    // 组件拖拽：ctrlkey === true 处理多选\n    dragCurrentComp(event, comp, state, currentIndex, canvesRect) {\n      if(event && (event.ctrlKey || event.metaKey && this.isMac())  ){\n        console.log('多选处理')\n      } else {\n        this.eStates.copyByKeyBool = false;\n        if(state === 'start') {\n          this.eStates.currentActiveIndex = currentIndex;\n          comp.style.drag_start_x = event.clientX - comp.style.left;\n          comp.style.drag_start_y = event.clientY - comp.style.top;\n        }else if(state === 'drag'){\n          let _left = event.clientX - comp.style.drag_start_x; \n          let _top = event.clientY - comp.style.drag_start_y;\n          if(_left <0 || _top < 0) return;\n          let left = (_left - canvesRect.x) >= 0 ? _left : canvesRect.x; // 处理left编辑问题\n          let top = (_top - canvesRect.y) >= 0 ? _top : canvesRect.y; // 处理top边界问题\n          comp.style.left = left;\n          comp.style.top = top;\n        }\n      }\n    },\n    resizeByDragComp(event, comp, state, arrow,currentIndex) {\n      if(event && (event.ctrlKey || event.metaKey && this.isMac())  ){\n        console.log('多选处理')\n      } else {\n        this.eStates.copyByKeyBool = false;\n        if(state === 'start') {\n          this.eStates.currentActiveIndex = currentIndex;\n          comp.style.drag_start_x = arrow === 'r' ? comp.style.left :\n                                    arrow === 'l' ?comp.style.left + comp.style.width :\n                                    10;\n          comp.style.drag_start_y = arrow === 'b' ? comp.style.top :\n                                    arrow === 't' ?comp.style.top + comp.style.height :\n                                    10;\n        }else if(state === 'drag'){\n          let _width = 0;\n          let _top = 0;\n          let _height = 0;\n          switch(arrow) {\n            case 'r':\n              _width = event.clientX - comp.style.drag_start_x; \n              comp.style.width = _width >= 10 ? _width: 10;\n              break;\n            case 'l':\n              comp.style.left = event.clientX;\n              _width = comp.style.drag_start_x - event.clientX ; \n              comp.style.width = _width >= 10 ? _width: 10;\n              break;\n            case 't':\n              comp.style.top = event.clientY;\n              _height = comp.style.drag_start_y - event.clientY;\n              comp.style.height = _height >= 10 ? _height : 10;\n              break;\n            case 'b':\n              _top = event.clientY - comp.style.drag_start_y;\n              comp.style.height = _top >= 10 ? _top: 10;\n              break;\n            default:\n              break\n          }\n\n        }else {\n          let _width = 0;\n          let _top = 0;\n          let _height = 0;\n          switch(arrow) {\n            case 'r':\n              _width = event.clientX - comp.style.drag_start_x; \n              comp.style.width = _width > 10 ? _width: 10;\n              break;\n            case 'l':\n              comp.style.left = event.clientX;\n              _width = comp.style.drag_start_x - event.clientX ; \n              comp.style.width = _width >= 10 ? _width: 10;\n              break;\n            case 't':\n              comp.style.top = event.clientY;\n              _height = comp.style.drag_start_y - event.clientY;\n              comp.style.height = _height >= 10 ? _height : 10;\n              break;\n            case 'b':\n               _top = event.clientY - comp.style.drag_start_y;\n              comp.style.height = _top >= 10 ? _top: 10;\n              break;\n            default:\n              break\n          }\n        }\n      }\n    },\n    transComp(event, comp){\n        let _x = event.clientX - comp.style.left - comp.style.width / 2;\n        let _y = event.clientY - comp.style.top - comp.style.height / 2;\n        comp.style.rotate = this.calcAngleDegrees(_x, _y);\n    },\n    // 组件删除\n    delComp(index, state) {\n      if(state === 'multipleDel') {\n        let len = this.edrawComponents.length;\n        this.eStates.multipleActiveArr = [];\n        for(let i=len;i--;i >0) {\n          let multipBool = this.edrawComponents[i].multipleActiveBool;\n          if(multipBool) {\n            this.edrawComponents.splice(i,1)\n          }\n        }\n      } else {\n        if(this.eStates.currentActiveIndex > -1 &&this.edrawComponents.length > 0) {\n          this.edrawComponents.splice(this.eStates.currentActiveIndex,1)\n          this.eStates.currentActiveIndex = -1;\n        }\n      }\n    },\n    // 键盘事件\n    kaydownFun(event) {\n      if(event.key === 'c') {\n        this.eStates.copyByKeyBool = true;\n      }else if(this.eStates.copyByKeyBool && event.key === 'v') {\n        this.copyCurrentComp();\n      }else {\n        if(['ArrowUp','ArrowDown','ArrowLeft',\"ArrowRight\"].indexOf(event['code'])> -1) {\n          event.preventDefault();\n          if(this.eStates.currentActiveIndex > -1 && this.eStates.multipleActiveArr.length === 0) {\n            this.arrowItem(event['code'], this.edrawComponents[this.eStates.currentActiveIndex])\n          }else if(this.eStates.multipleActiveArr.length > 0){\n            let len = this.eStates.multipleActiveArr.length;\n            for(let i=0;i<len;i++){\n               this.arrowItem(event['code'], this.eStates.multipleActiveArr[i])\n            }\n          }\n        }\n      }\n      if(event.key === 'Delete' || this.isMac() && event.key === 'Backspace')  {\n        this.delComp();\n      }\n    },\n    arrowItem(arrow, obj) {\n      if(arrow && obj) {\n        switch (arrow) {\n          case 'ArrowUp' :\n            obj.style.top = (obj.style.top - 1) > 0 ? ( obj.style.top - 1) : 0;\n            break;\n          case 'ArrowDown' :\n            obj.style.top = obj.style.top + 1;\n            break;\n          case 'ArrowLeft' :\n            obj.style.left = (obj.style.left -1 )> 0? (obj.style.left -1) : 0;\n            break;\n          case 'ArrowRight':\n            obj.style.left =  obj.style.left +1;\n            break;\n          default:\n            break;\n        }\n      }\n    },\n    // 多选事件\n    mousedownFun(event) {\n      if((!event.ctrlKey || !event.metaKey && this.isMac()) && event.button === 0 \n        && event.target.id==='canvas' \n        && !event.target.classList.contains('comp-element')) {\n        this.eStates.copyByKeyBool = false;\n        this.initCompState();\n      } \n    },\n    // 创建当前组件\n    copyCurrentComp:function() {\n      let _currComp = this.edrawComponents[this.eStates.currentActiveIndex];\n      if(!_currComp) return;\n      _currComp.isActive = false;\n      let _copy = JSON.parse(JSON.stringify(_currComp));\n      let _style = _currComp.style;\n      let _h = this.configs.Isometric_colu > 1? this.configs.Isometric_colu : 1;\n      _copy.style.top = _style.height + _style.top + _h;\n      _copy.isActive = true;\n      this.edrawComponents.push(_copy);\n      this.eStates.currentActiveIndex = this.edrawComponents.length - 1; //更新激活组件的下标\n    },\n    // 多选操作:反选/清空多选/属性应用\n    setMultipleState:function(state, value) {\n      if(state === 'Isometric') {\n        for(let i = this.eStates.multipleActiveArr.length-1;i>=0;i--) {\n          let obj = this.eStates.multipleActiveArr[i];\n          let bool = obj['multipleActiveBool'];\n          if(!bool) {\n            this.eStates.multipleActiveArr.splice(i,1);\n          }\n        }\n        let len = this.eStates.multipleActiveArr.length;\n        let val = 0;\n        if(value === 'row') {\n          this.eStates.multipleActiveArr =  this.eStates.multipleActiveArr.sort(function(a,b){\n            return a.style.left - b.style.left;\n          })\n          for(let i=0;i< len;i++) {\n            let item = this.eStates.multipleActiveArr[i];\n            if(i>0) {\n              item.style.left = val;\n            }\n            val = item.style.left + item.style.width + parseInt(this.configs.Isometric_row);\n          }\n        } else {\n          this.eStates.multipleActiveArr =  this.eStates.multipleActiveArr.sort(function(a,b){\n            return a.style.top - b.style.top ;\n          })\n          for(let i=0;i< len;i++) {\n            let item = this.eStates.multipleActiveArr[i];\n            if(i>0) {\n              item.style.top = val;\n            }\n            val = item.style.height + item.style.top + parseInt(this.configs.Isometric_colu);\n            console.log(i,  this.configs.Isometric_colu, val)\n          }\n        }     \n      }else if(state === 'reSel') {\n        let len = this.edrawComponents.length;\n        this.eStates.multipleActiveArr = [];\n        for(let i=len;i--;i >0) {\n          let item = this.edrawComponents[i];\n          if(!item.multipleActiveBool) {  \n            this.eStates.multipleActiveArr.push(item);\n          }\n          item.multipleActiveBool = !item.multipleActiveBool;\n        }\n      } else if(state === 'clear'){\n        let len = this.edrawComponents.length;\n        this.eStates.multipleActiveArr = [];\n        for(let i=len;i--;i >0) {\n          this.edrawComponents[i].multipleActiveBool = false;\n        }\n      }else if(['isApplyShadow', 'borderRadius'].indexOf(state) > -1) {\n        let len = this.eStates.multipleActiveArr.length;\n        for(let i=len;i--;i >0) {\n          this.eStates.multipleActiveArr[i].style[state] = value;\n        }\n      }else if(state === 'align') {\n        switch(value) {\n          case 't' :\n            this.multipArray('top');\n            break;\n          case 'l' :\n            this.multipArray('left');\n            break;\n          case 'b' :\n            this.multipArray('bottom');\n            break;\n          case 'r' :\n            this.multipArray('right');\n            break;\n          default:\n            break;\n        }\n      }\n    },\n    // 删除多选元素\n    delMultipComp(comp, index) {\n      this.eStates.multipleActiveArr.splice(index, 1);\n      let _index = this.edrawComponents.indexOf(comp);\n      if(_index > -1) {\n        this.edrawComponents[_index].multipleActiveBool = false;\n      }\n    },\n    changeConfig(state, value){\n      if(!this.configs[state]) return;\n      this.configs[state] = value;\n      console.log(state,value)\n    },\n    multipArray(param) {\n      let list = JSON.parse(JSON.stringify(this.eStates.multipleActiveArr));\n      list.sort(function(a, b) {\n        return ['top', 'left'].indexOf(param) > -1 ? a.style[param] - b.style[param]:\n          param === 'bottom' ?  b.style.top + b.style.height - (a.style.top + a.style.height) :\n          b.style.left + b.style.width - (a.style.left + a.style.width) \n      });\n      let len = this.eStates.multipleActiveArr.length;\n      let resObj = list[0];\n      if(['top', 'left'].indexOf(param) > -1) {\n        for(let i=0;i<len;i++) {\n          this.eStates.multipleActiveArr[i].style[param] = resObj.style[param];\n        }\n      }else if(param === 'bottom') {\n        let _bottom = resObj.style.top + resObj.style.height;\n        for(let i=0;i<len;i++) {\n          this.eStates.multipleActiveArr[i].style.top = _bottom - this.eStates.multipleActiveArr[i].style.height;\n        }\n      }else if(param === 'right') {\n        let _right = resObj.style.left + resObj.style.width;\n        for(let i=0;i<len;i++) {\n          this.eStates.multipleActiveArr[i].style.left = _right - this.eStates.multipleActiveArr[i].style.width;\n        }\n      }\n    },\n    isMac:function() {\n      return /macintosh|mac os x/i.test(navigator.userAgent)\n    },\n    calcAngleDegrees(x, y) {\n      let val =  Math.atan2(y, x) * 180 / Math.PI;\n      return Math.ceil(val);\n    },\n    screen:function() {\n      this.configs.bgAllBool = !this.configs.bgAllBool;\n      if(this.configs.bgAllBool) {\n        this.configs.window_w = window.screen.width > 1500 ? window.screen.width : 1500;\n        this.configs.window_h = window.screen.height > 800 ? window.screen.height : 800;\n        this.configs.scale = 1;\n      }\n    },\n    initStorageData(clearBool) {\n      if(!clearBool && window.localStorage.getItem('bm_datas')) return;\n      let params = {\n          save_data_auto:[],\n          save_data_custom:[]\n      }\n      window.localStorage.setItem('bm_datas', JSON.stringify(params))\n    },\n    saveDateToStorage(data, state) {\n      let saveData = data || this.edrawComponents;\n\n      //存储优化，没有内容的页面不需要存储\n      if(!saveData || Array.isArray(saveData) && saveData.length === 0) {\n        return;\n      }\n      let obj = {\n        data: saveData,\n        type: state || 'auto',\n        updateTime:new Date()\n      };\n      if(!window.localStorage.getItem('bm_datas')) {\n        this.initStorageData();\n      }\n      let params = window.localStorage.getItem('bm_datas');\n      if(params && typeof params === 'string') {\n        params = JSON.parse(params)\n      }\n      if(state === 'custom') {\n        params.save_data_custom.unshift(obj);\n        if(params.save_data_custom.length > 50) {\n          params.save_data_custom = params.save_data_custom.slice(0, 50);\n        }\n      } else {\n        params.save_data_auto.unshift(obj);\n        if(params.save_data_auto.length > 50) {\n          params.save_data_auto = params.save_data_auto.slice(0, 50);\n        }\n      }\n\n      window.localStorage.setItem('bm_datas', JSON.stringify(params));\n    },\n    getStorageData() {\n      this.activeHistoryBool = !this.activeHistoryBool;\n      this.currentHistoryIndex = -1;\n      let params = window.localStorage.getItem('bm_datas');\n      if(params && typeof params === 'string') {\n        params = JSON.parse(params)\n      }\n      this.historyCurrnetData = [].concat(params.save_data_custom, params.save_data_auto);\n    },\n    changeBgImg(url) {\n      this.configs.backgroundUrl = url;\n    },\n    clearStorageData() {\n      this.initStorageData(true);\n    },\n    initHistoryListState(index) {\n      this.currentHistoryIndex = index > -1 ? index : -1;\n      if(Array.isArray(this.historyCurrnetData)) {\n        let len = this.historyCurrnetData.length;\n        for(let i=0;i<len;i++) {\n          this.historyCurrnetData[i].isActive = false;\n        }\n      }\n    },\n    applyHistory(list) {\n      this.saveDateToStorage()\n      this.edrawComponents = list;\n      this.initCompState();\n      this.closeHistory();\n    },\n    closeHistory() {\n      this.activeHistoryBool = false;\n    }\n  }\n}\n</script>\n\n<style>\n\n#editor {\n  margin-top: 60px;\n  padding: 0;\n  position: relative;\n  color: #2c3e50;\n  display: grid;\n  grid-template-columns: 205px auto 205px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}