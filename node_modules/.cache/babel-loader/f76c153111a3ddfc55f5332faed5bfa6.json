{"remainingRequest":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/thread-loader/dist/cjs.js!/Users/liangma/Desktop/workspace/BaseMap/node_modules/babel-loader/lib/index.js!/Users/liangma/Desktop/workspace/BaseMap/node_modules/eslint-loader/index.js??ref--13-0!/Users/liangma/Desktop/workspace/BaseMap/src/components/canvas/editor-canvas.vue.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liangma/Desktop/workspace/BaseMap/src/components/canvas/editor-canvas.vue.js","mtime":1592142803605},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liangma/Desktop/workspace/BaseMap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0IEF1eGlsaWFyeUNvbXBvbmVudCBmcm9tICcuL2NvbXBzL2F1eGlsaWFyeSc7CmltcG9ydCBJbWdDb21wb25lbnQgZnJvbSAnLi9jb21wcy9pbWcnOwppbXBvcnQgVGV4dENvbXBvbmVudCBmcm9tICcuL2NvbXBzL3RleHQnOwppbXBvcnQgUGlsbGFyQ29tcG9uZW50IGZyb20gJy4vY29tcHMvcGlsbGFyJzsKaW1wb3J0IFJvb21Db21wb25lbnQgZnJvbSAnLi9jb21wcy9yb29tJzsKaW1wb3J0IERlaXZjZUNvbXBvbmVudCBmcm9tICcuL2NvbXBzL2RldmljZSc7CmltcG9ydCBBaXNsZUNvbXBvbmVudCBmcm9tICcuL2NvbXBzL2Fpc2xlJzsKaW1wb3J0IExpbmVSb3dDb21wb25lbnQgZnJvbSAnLi9jb21wcy9saW5lLXJvdyc7CmltcG9ydCBMaW5lQ29sdUNvbXBvbmVudCBmcm9tICcuL2NvbXBzL2xpbmUtY29sdSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRWRpdG9yQ2FudmFzJywKICBjb21wb25lbnRzOiB7CiAgICAnY29tcC1hdXhpbGlhcnknOiBBdXhpbGlhcnlDb21wb25lbnQsCiAgICAnY29tcC1pbWcnOiBJbWdDb21wb25lbnQsCiAgICAnY29tcC10ZXh0JzogVGV4dENvbXBvbmVudCwKICAgICdjb21wLXBpbGxhcic6IFBpbGxhckNvbXBvbmVudCwKICAgICdjb21wLXJvb20nOiBSb29tQ29tcG9uZW50LAogICAgJ2NvbXAtZGV2aWNlJzogRGVpdmNlQ29tcG9uZW50LAogICAgJ2NvbXAtYWlzbGUnOiBBaXNsZUNvbXBvbmVudCwKICAgICdjb21wLWxpbmUtcm93JzogTGluZVJvd0NvbXBvbmVudCwKICAgICdjb21wLWxpbmUtY29sdSc6IExpbmVDb2x1Q29tcG9uZW50CiAgfSwKICBwcm9wczogewogICAgY3VycmVudEFjdGl2ZUluZGV4OiBOdW1iZXIsCiAgICAvLyDnvJbovpHnirbmgIHnrqHnkIYKICAgIGVkcmF3Q29tcHM6IEFycmF5LAogICAgLy/nu5jliLbnu4Tku7bvvIjlm77niYfvvInliJfooagKICAgIGNvbmZpZ3M6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICJhZ2UiLAogICAgICB0aW1lclN0YXRlOiB7CiAgICAgICAgbGFzdFRpbWU6IDAsCiAgICAgICAgd2FpdFRpbWU6IDEwCiAgICAgIH0sCiAgICAgIHJlY3Q6IHsKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgZG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRlbnQnKTsKICAgIHRoaXMucmVjdCA9IGRvbSAmJiBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3RJdGVtOiBmdW5jdGlvbiBzZWxlY3RJdGVtKGV2ZW50LCBpbmRleCkgewogICAgICB0aGlzLiRlbWl0KCdpbml0Q29tcHNTdGF0ZScsIGluZGV4LCBldmVudCk7CiAgICB9LAogICAgLy8g5ouW5ou95Zu+54mH77yM5rOo6YeK5LqG6IqC5rWB5LyY5YyWCiAgICBkcmFnQ29tcDogZnVuY3Rpb24gZHJhZ0NvbXAoZXZlbnQsIGNvbXAsIHN0YXRlLCBpbmRleCkgewogICAgICBpZiAoZXZlbnQgJiYgIWV2ZW50LmNsaWVudFggJiYgIWV2ZW50LmNsaWVudFkpIHJldHVybjsKCiAgICAgIGlmIChzdGF0ZSA9PT0gJ3N0YXJ0JykgewogICAgICAgIHRoaXMuJGVtaXQoJ2luaXRDb21wc1N0YXRlJywgaW5kZXgpOwogICAgICAgIHRoaXMuJGVtaXQoJ2RyYWdDb21wJywgZXZlbnQsIGNvbXAsIHN0YXRlLCBpbmRleCwgdGhpcy5yZWN0KTsKICAgICAgICBjb21wLmlzQWN0aXZlID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRlbWl0KCdkcmFnQ29tcCcsIGV2ZW50LCBjb21wLCBzdGF0ZSwgaW5kZXgsIHRoaXMucmVjdCk7CiAgICAgIH0KICAgIH0sCiAgICByZXNpemVCeURyYWdDb21wOiBmdW5jdGlvbiByZXNpemVCeURyYWdDb21wKGV2ZW50LCBjb21wLCBhcnJvdywgc3RhdGUsIGluZGV4KSB7CiAgICAgIGlmIChldmVudCAmJiAhZXZlbnQuY2xpZW50WCAmJiAhZXZlbnQuY2xpZW50WSkgcmV0dXJuOwoKICAgICAgaWYgKHN0YXRlID09PSAnc3RhcnQnKSB7CiAgICAgICAgdGhpcy4kZW1pdCgncmVzaXplQnlEcmFnQ29tcCcsIGV2ZW50LCBjb21wLCBhcnJvdywgc3RhdGUsIGluZGV4KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRlbWl0KCdyZXNpemVCeURyYWdDb21wJywgZXZlbnQsIGNvbXAsIGFycm93LCBzdGF0ZSwgaW5kZXgpOwogICAgICB9CiAgICB9LAogICAgdHJhbnM6IGZ1bmN0aW9uIHRyYW5zKGV2ZW50LCBjb21wLCBzdGF0ZSwgaW5kZXgpIHsKICAgICAgaWYgKGV2ZW50ICYmICFldmVudC5jbGllbnRYICYmICFldmVudC5jbGllbnRZKSByZXR1cm47CiAgICAgIHRoaXMuJGVtaXQoJ3RyYW5zJywgZXZlbnQsIGNvbXAsIHN0YXRlLCBpbmRleCk7CiAgICB9LAogICAgc2NyZWVuOiBmdW5jdGlvbiBzY3JlZW4oKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3NjcmVlbicpOwogICAgfSwKICAgIGNoYW5nZVRleHRWYWw6IGZ1bmN0aW9uIGNoYW5nZVRleHRWYWwoZXZlbnQsIGl0ZW0pIHsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlVGV4dFZhbCcsIGV2ZW50LCBpdGVtKTsKICAgIH0sCiAgICB6b29tOiBmdW5jdGlvbiB6b29tKHN0YXRlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3pvb20nLCBzdGF0ZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/liangma/Desktop/workspace/BaseMap/src/components/canvas/editor-canvas.vue.js"],"names":["AuxiliaryComponent","ImgComponent","TextComponent","PillarComponent","RoomComponent","DeivceComponent","AisleComponent","LineRowComponent","LineColuComponent","name","components","props","currentActiveIndex","Number","edrawComps","Array","configs","Object","data","timerState","lastTime","waitTime","rect","x","y","mounted","dom","document","querySelector","getBoundingClientRect","methods","selectItem","event","index","$emit","dragComp","comp","state","clientX","clientY","isActive","resizeByDragComp","arrow","trans","screen","changeTextVal","item","zoom"],"mappings":"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","sourcesContent":["import AuxiliaryComponent from './comps/auxiliary';\nimport ImgComponent from './comps/img';\nimport TextComponent from './comps/text';\nimport PillarComponent from './comps/pillar';\nimport RoomComponent from './comps/room';\nimport DeivceComponent from './comps/device';\nimport AisleComponent from './comps/aisle';\nimport LineRowComponent from './comps/line-row';\nimport LineColuComponent from './comps/line-colu';\n\nexport default {\n    name: 'EditorCanvas',\n    components: {\n      'comp-auxiliary':AuxiliaryComponent,\n      'comp-img': ImgComponent,\n      'comp-text': TextComponent,\n      'comp-pillar': PillarComponent,\n      'comp-room': RoomComponent,\n      'comp-device': DeivceComponent,\n      'comp-aisle': AisleComponent,\n      'comp-line-row': LineRowComponent,\n      'comp-line-colu': LineColuComponent\n    },\n    props: {\n      currentActiveIndex:Number, // 编辑状态管理\n      edrawComps: Array, //绘制组件（图片）列表\n      configs:Object\n    },\n    data() {\n      return {\n        name:\"age\",\n        timerState:{\n          lastTime:0,\n          waitTime:10\n        },\n        rect:{\n          x:0,\n          y:0\n        }\n      }\n    },\n    mounted:function() {\n      let dom = document.querySelector('#content');\n      this.rect = dom && dom.getBoundingClientRect();\n    },\n    methods: {\n      selectItem:function(event, index) {\n        this.$emit('initCompsState',index, event);\n      },\n      // 拖拽图片，注释了节流优化\n      dragComp:function(event, comp, state, index) {\n        if(event && !event.clientX && !event.clientY) return;\t\n        if(state === 'start') {\n          this.$emit('initCompsState',index);\n          this.$emit('dragComp',event, comp, state, index, this.rect)\n          comp.isActive = true;\n        } else {\n          this.$emit('dragComp',event, comp, state, index, this.rect)\n        }\n      },\n      resizeByDragComp:function(event, comp, arrow, state, index) {\t\n        if(event && !event.clientX && !event.clientY) return;\t\n        if(state === 'start') {\t\n          this.$emit('resizeByDragComp',event, comp, arrow, state, index)\t\n        } else {\t\n          this.$emit('resizeByDragComp',event, comp, arrow, state, index)\t\n        }\t\n      },\t\n      trans:function(event, comp, state, index) {\t\n        if(event && !event.clientX && !event.clientY) return;\t\n        this.$emit('trans',event, comp, state, index)\t\n      },\n      screen:function() {\n        this.$emit('screen')\n      },\n      changeTextVal:function(event,item) {\n        this.$emit('changeTextVal',event, item)\t\n      },\n      zoom:function(state) {\n        this.$emit('zoom',state)\t\n      }\n    }\n  }\n  \n  "]}]}